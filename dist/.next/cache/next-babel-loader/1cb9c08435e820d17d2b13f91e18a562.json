{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\n\n/* eslint-disable no-shadow */\nimport React from 'react';\nimport { Card, message, Row, Col } from 'antd';\nimport { performerService, studioService } from 'src/services';\nimport { getResponseError } from '@lib/utils';\nexport var ROLE;\n\n(function (ROLE) {\n  ROLE[\"PERFORMER\"] = \"perfomrer\";\n  ROLE[\"USER\"] = \"user\";\n  ROLE[\"STUDIO\"] = \"studio\";\n})(ROLE || (ROLE = {}));\n\nvar DataMap = [{\n  lable: 'Tip Commission',\n  key: 'tipCommission'\n}, {\n  lable: 'Private Call Commission',\n  key: 'privateCallCommission'\n}, {\n  lable: 'Group Call Commission',\n  key: 'groupCallCommission'\n}, {\n  lable: 'Product Commission',\n  key: 'productCommission'\n}, {\n  lable: 'Gallery Commission',\n  key: 'albumCommission'\n}, {\n  lable: 'Video Commission',\n  key: 'videoCommission'\n}];\nvar style = {\n  headStyle: {\n    color: '#ff0066'\n  },\n  bodyStyle: {\n    color: '#000000'\n  }\n};\n\nvar CommissionCard = function CommissionCard(_ref) {\n  var role = _ref.role;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      commission = _React$useState2[0],\n      setCommission = _React$useState2[1];\n\n  React.useEffect(function () {\n    var getCommission = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var resp, err;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n\n                if (!(role === ROLE.STUDIO)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 4;\n                return studioService.getCommission();\n\n              case 4:\n                _context.t0 = _context.sent;\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.next = 9;\n                return performerService.getCommission();\n\n              case 9:\n                _context.t0 = _context.sent;\n\n              case 10:\n                resp = _context.t0;\n                setCommission(resp.data);\n                _context.next = 20;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t1 = _context[\"catch\"](0);\n                _context.next = 18;\n                return Promise.resolve(_context.t1);\n\n              case 18:\n                err = _context.sent;\n                message.error(getResponseError(err));\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 14]]);\n      }));\n\n      return function getCommission() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getCommission();\n  }, []);\n  return __jsx(React.Fragment, null, commission && (typeof commission === 'number' ? __jsx(Row, null, __jsx(Col, {\n    xs: 24,\n    sm: 6\n  }, __jsx(Card, _extends({}, style, {\n    title: __jsx(\"span\", null, \"Commission\"),\n    extra: __jsx(\"span\", {\n      style: {\n        color: '#ff0066'\n      }\n    }, commission, \"%\")\n  }), \"Hint: When a member spends paid tokens with you, you will get this commission.\"))) : __jsx(Row, {\n    gutter: [10, 10]\n  }, DataMap.map(function (m) {\n    return __jsx(Col, {\n      xs: 24,\n      sm: 8,\n      key: m.key\n    }, __jsx(Card, _extends({}, style, {\n      title: __jsx(\"span\", null, m.lable),\n      extra: __jsx(\"span\", {\n        style: {\n          color: '#ff0066'\n        }\n      }, commission[m.key], \"%\")\n    }), \"Hint: When a member spends paid tokens with you, you will get this commission.\"));\n  }))));\n};\n\nCommissionCard.defaultProps = {\n  role: ''\n};\nexport default CommissionCard;","map":null,"metadata":{},"sourceType":"module"}