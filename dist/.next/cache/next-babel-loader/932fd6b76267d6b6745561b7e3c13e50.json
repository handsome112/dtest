{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport './primary-layout.less';\nimport * as React from 'react';\nimport { Layout, BackTop, Row, Col, Button, Space } from 'antd';\nimport Head from 'next/head';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport { loadUIValue } from 'src/redux/ui/actions';\nimport Header from '@components/common/layout/header';\nimport Loader from '@components/common/base/loader';\nimport { GlobalOutlined, // RollbackOutlined,\nUserOutlined, SettingOutlined, MessageOutlined, HeartOutlined, OrderedListOutlined, PieChartOutlined, LineChartOutlined, SolutionOutlined, CalendarOutlined } from '@ant-design/icons'; // import { SiderMenu } from '@components/common/layout/menu';\n\nimport { FundsIcon, PaymentTokensHistoryIcon, TransactionHistoryIcon, PurchasedImageIcon, PurchasedItemIcon, PurchasedVideoIcon, MyProductIcon, VideosIcon, PhotosIcon, EarningIcon, PayoutRequestIcon, Group } from '@components/common/base/icons';\nimport dynamic from 'next/dynamic';\nimport { converDuration, createSelector } from 'src/lib';\nimport Footer from '@components/common/layout/footer';\nimport NumberFormat from '@components/common/layout/numberformat';\nconst SiderMenuNoSSR = dynamic(() => import('@components/common/layout/menu'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('@components/common/layout/menu')],\n    modules: ['@components/common/layout/menu']\n  }\n});\nconst userSettingMenu = [{\n  id: 'account-settings',\n  name: 'Account Settings',\n  route: '/account/user/account-settings',\n  icon: __jsx(SettingOutlined, null)\n}, {\n  id: 'messages',\n  name: 'Messages',\n  route: '/messages',\n  icon: __jsx(MessageOutlined, null)\n}, {\n  id: 'favorites',\n  name: 'My favorites',\n  route: '/account/user/favorites',\n  icon: __jsx(HeartOutlined, null)\n}, {\n  id: 'funds-tokens',\n  name: 'Funds / Tokens',\n  route: '/account/user/funds-tokens',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(FundsIcon, null))\n}, {\n  id: 'transaction-history',\n  name: 'Transaction History',\n  route: '/account/user/transaction-history',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(TransactionHistoryIcon, null))\n}, {\n  id: 'payment-token-history',\n  name: 'Payment Tokens History',\n  route: '/account/user/payment-token-history',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(PaymentTokensHistoryIcon, null))\n}, {\n  id: 'order',\n  name: 'My orders',\n  route: '/account/user/orders',\n  icon: __jsx(OrderedListOutlined, null)\n}, {\n  id: 'purchased-galleries',\n  name: 'Purchased Galleries',\n  route: '/account/user/purchased-gallery',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(PurchasedImageIcon, null))\n}, {\n  id: 'purchased-videos',\n  name: 'Purchased Videos',\n  route: '/account/user/purchased-video',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(PurchasedVideoIcon, null))\n}, {\n  id: 'purchased-products',\n  name: 'Purchased Products',\n  route: '/account/user/purchased-product',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(PurchasedItemIcon, null))\n} // {\n//   id: 'refund-request',\n//   name: 'Refund Requests',\n//   route: '/account/user/refund-request',\n//   icon: <RollbackOutlined />\n// }\n];\nconst performerSettingMenu = [{\n  id: 'profile',\n  name: 'Profile',\n  route: '/account/performer/profile',\n  icon: __jsx(UserOutlined, null)\n}, {\n  id: 'account-settings',\n  name: 'Account Settings',\n  route: '/account/performer/account-settings',\n  icon: __jsx(SettingOutlined, null)\n}, {\n  id: 'messages',\n  name: 'Messages',\n  route: '/messages',\n  icon: __jsx(MessageOutlined, null)\n}, {\n  id: 'earning',\n  name: 'Earnings',\n  route: '/account/performer/earning',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(EarningIcon, null))\n}, {\n  id: 'schedules',\n  name: 'Schedules',\n  route: '/account/performer/schedules',\n  icon: __jsx(CalendarOutlined, null)\n}, {\n  id: 'my-products',\n  name: 'Products',\n  route: '/account/performer/products',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(MyProductIcon, null))\n}, {\n  id: 'my-videos',\n  name: 'Videos',\n  route: '/account/performer/videos',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(VideosIcon, null))\n}, {\n  id: 'my-galleries',\n  name: 'Galleries',\n  route: '/account/performer/galleries',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(PhotosIcon, null))\n}, {\n  id: 'my-blocking',\n  name: 'Blocking',\n  route: '/account/performer/geo-block',\n  icon: __jsx(GlobalOutlined, null)\n}, {\n  id: 'payout-request',\n  name: 'Payout Request',\n  route: '/account/performer/payout-requests',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(PayoutRequestIcon, null))\n}, {\n  id: 'order',\n  name: 'Orders',\n  route: '/account/performer/orders',\n  icon: __jsx(OrderedListOutlined, null)\n}];\nconst studioSettingMenu = [{\n  id: 'account-settings',\n  name: 'Account Settings',\n  route: '/studio/account-settings',\n  icon: __jsx(SettingOutlined, null)\n}, {\n  id: 'earning',\n  name: 'Earnings',\n  route: '/studio/earning',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(EarningIcon, null))\n}, {\n  id: 'commission',\n  name: 'Commission',\n  route: '/studio/commissions',\n  icon: __jsx(PieChartOutlined, null)\n}, {\n  id: 'studio-models',\n  name: 'Models',\n  route: '/studio/models',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(Group, null))\n}, {\n  id: 'studio-payout-requests',\n  name: 'Payout Requests',\n  route: '/studio/payout-requests',\n  icon: __jsx(\"span\", {\n    className: \"anticon\"\n  }, __jsx(PayoutRequestIcon, null))\n}, {\n  id: 'studioperformer-requests',\n  name: 'Performer Payout Requests',\n  route: '/studio/payout-requests/performer-requests',\n  icon: __jsx(SolutionOutlined, null)\n}, {\n  id: 'performer-stats',\n  name: 'Performer Stats',\n  route: '/studio/models/stats',\n  icon: __jsx(LineChartOutlined, null)\n}];\n\nclass PrimaryLayout extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"enquireHandler\", void 0);\n\n    _defineProperty(this, \"rightPrimaryLayoutRef\", void 0);\n\n    this.state = {\n      // security request for primary layout\n      routerChange: false\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      loadUIValue: dispatchLoadUIValue\n    } = this.props;\n    dispatchLoadUIValue();\n    false && this.handleStateChange();\n    this.rightPrimaryLayoutRef = /*#__PURE__*/React.createRef();\n  }\n\n  handleStateChange() {\n    Router.events.on('routeChangeStart', () => this.setState({\n      routerChange: true\n    }));\n    Router.events.on('routeChangeComplete', () => this.setState({\n      routerChange: false\n    }));\n  }\n\n  onLive() {\n    Router.push('/live');\n  }\n\n  onSideMenuClick() {\n    if (this.rightPrimaryLayoutRef.current instanceof HTMLDivElement) {\n      const container = document.querySelector('.container');\n      const rect = this.rightPrimaryLayoutRef.current.getBoundingClientRect();\n\n      if (container) {\n        container.scroll({\n          top: rect.top,\n          behavior: 'smooth'\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      children,\n      collapsed,\n      fixedHeader,\n      logo,\n      currentUser,\n      totalNotReadMessage,\n      // siteName,\n      theme\n    } = this.props;\n    const {\n      routerChange\n    } = this.state;\n    const headerProps = {\n      logo,\n      collapsed,\n      theme\n    };\n    return __jsx(Layout, null, __jsx(Head, null, __jsx(\"link\", {\n      href: \"https://unpkg.com/video.js@7.8.3/dist/video-js.css\",\n      rel: \"stylesheet\"\n    }), __jsx(\"script\", {\n      src: \"https://unpkg.com/video.js@7.8.3/dist/video.js\"\n    }), __jsx(\"script\", {\n      src: \"https://unpkg.com/@videojs/http-streaming@1.13.3/dist/videojs-http-streaming.js\"\n    })), __jsx(\"div\", {\n      className: \"container\",\n      style: {\n        paddingTop: fixedHeader ? 72 : 0\n      },\n      id: \"primaryLayout\"\n    }, __jsx(Header, headerProps), __jsx(Layout.Content, {\n      className: \"content\"\n    }, routerChange && __jsx(Loader, {\n      spinning: true,\n      fullScreen: true\n    }), __jsx(\"div\", {\n      className: \"primary-content\"\n    }, __jsx(Row, {\n      gutter: 10\n    }, __jsx(Col, {\n      xs: 24,\n      sm: 4\n    }, (currentUser === null || currentUser === void 0 ? void 0 : currentUser._id) && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'performer' && __jsx(Space, {\n      direction: \"vertical\",\n      style: {\n        width: '100%'\n      }\n    }, __jsx(Button, {\n      type: \"primary\",\n      className: \"btn-live\",\n      onClick: this.onLive.bind(this)\n    }, \"Go Live\"), __jsx(SiderMenuNoSSR, {\n      menus: performerSettingMenu,\n      totalNotReadMessage: totalNotReadMessage,\n      onClick: this.onSideMenuClick.bind(this)\n    })), (currentUser === null || currentUser === void 0 ? void 0 : currentUser._id) && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'user' && __jsx(SiderMenuNoSSR, {\n      menus: userSettingMenu,\n      totalNotReadMessage: totalNotReadMessage,\n      onClick: this.onSideMenuClick.bind(this)\n    }), (currentUser === null || currentUser === void 0 ? void 0 : currentUser._id) && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'studio' && __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"tk-studio\"\n    }, __jsx(\"div\", {\n      className: \"stat\"\n    }, __jsx(\"span\", null, \"Total models\"), __jsx(\"span\", null, currentUser.stats.totalPerformer || 0)), __jsx(\"div\", {\n      className: \"stat\"\n    }, __jsx(\"span\", null, \"Total earned\"), __jsx(\"span\", null, __jsx(NumberFormat, {\n      value: currentUser.stats.totalTokenEarned || 0\n    }))), __jsx(\"div\", {\n      className: \"stat\"\n    }, __jsx(\"span\", null, \"Total sessions\"), __jsx(\"span\", null, currentUser.stats.totalOnlineToday || 0)), __jsx(\"div\", {\n      className: \"stat\"\n    }, __jsx(\"span\", null, \"Total hours online\"), __jsx(\"span\", null, currentUser.stats.totalHoursOnline && converDuration(currentUser.stats.totalHoursOnline)))), __jsx(SiderMenuNoSSR, {\n      menus: studioSettingMenu,\n      onClick: this.onSideMenuClick.bind(this) // totalNotReadMessage={totalNotReadMessage}\n\n    }))), __jsx(Col, {\n      xs: 24,\n      sm: 20,\n      className: \"right-primary-layout\",\n      ref: this.rightPrimaryLayoutRef\n    }, children)))), __jsx(Footer, null), __jsx(BackTop, {\n      className: \"backTop\",\n      target: () => document.querySelector('#primaryLayout')\n    })));\n  }\n\n}\n\nconst userSelecter = state => state.user.current;\n\nconst performerSelecter = state => state.performer.current;\n\nconst studioSelecter = state => state.studio.current;\n\nconst authSelecter = state => state.auth;\n\nconst currentUserSelecter = createSelector(userSelecter, performerSelecter, studioSelecter, authSelecter, (user, performer, studio, auth) => {\n  if (!auth.loggedIn) return {};\n\n  if (user !== null && user !== void 0 && user._id) {\n    return _objectSpread(_objectSpread({}, user), {}, {\n      role: 'user'\n    });\n  }\n\n  if (performer !== null && performer !== void 0 && performer._id) {\n    return _objectSpread(_objectSpread({}, performer), {}, {\n      role: 'performer'\n    });\n  }\n\n  if (studio !== null && studio !== void 0 && studio._id) {\n    return _objectSpread(_objectSpread({}, studio), {}, {\n      role: 'studio'\n    });\n  }\n\n  return {};\n});\n\nconst mapStateToProps = state => _objectSpread(_objectSpread(_objectSpread({}, state.ui), state.auth), {}, {\n  totalNotReadMessage: state.message.totalNotReadMessage,\n  currentUser: currentUserSelecter(state)\n});\n\nconst mapDispatchToProps = {\n  loadUIValue\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryLayout);","map":{"version":3,"sources":["E:/WorkStation/Moldova/DTEST/src/layouts/primary-layout.tsx"],"names":["React","Layout","BackTop","Row","Col","Button","Space","Head","connect","Router","loadUIValue","Header","Loader","GlobalOutlined","UserOutlined","SettingOutlined","MessageOutlined","HeartOutlined","OrderedListOutlined","PieChartOutlined","LineChartOutlined","SolutionOutlined","CalendarOutlined","FundsIcon","PaymentTokensHistoryIcon","TransactionHistoryIcon","PurchasedImageIcon","PurchasedItemIcon","PurchasedVideoIcon","MyProductIcon","VideosIcon","PhotosIcon","EarningIcon","PayoutRequestIcon","Group","dynamic","converDuration","createSelector","Footer","NumberFormat","SiderMenuNoSSR","ssr","userSettingMenu","id","name","route","icon","performerSettingMenu","studioSettingMenu","PrimaryLayout","PureComponent","constructor","props","state","routerChange","componentDidMount","dispatchLoadUIValue","handleStateChange","rightPrimaryLayoutRef","createRef","events","on","setState","onLive","push","onSideMenuClick","current","HTMLDivElement","container","document","querySelector","rect","getBoundingClientRect","scroll","top","behavior","render","children","collapsed","fixedHeader","logo","currentUser","totalNotReadMessage","theme","headerProps","paddingTop","_id","role","width","bind","stats","totalPerformer","totalTokenEarned","totalOnlineToday","totalHoursOnline","userSelecter","user","performerSelecter","performer","studioSelecter","studio","authSelecter","auth","currentUserSelecter","loggedIn","mapStateToProps","ui","message","mapDispatchToProps"],"mappings":"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","sourcesContent":["import './primary-layout.less';\nimport * as React from 'react';\nimport {\n  Layout, BackTop, Row, Col, Button, Space\n} from 'antd';\nimport Head from 'next/head';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport { loadUIValue } from 'src/redux/ui/actions';\nimport { IUIConfig } from 'src/interfaces/ui-config';\nimport Header from '@components/common/layout/header';\nimport Loader from '@components/common/base/loader';\nimport {\n  GlobalOutlined,\n  // RollbackOutlined,\n  UserOutlined,\n  SettingOutlined,\n  MessageOutlined,\n  HeartOutlined,\n  OrderedListOutlined,\n  PieChartOutlined,\n  LineChartOutlined,\n  SolutionOutlined,\n  CalendarOutlined\n} from '@ant-design/icons';\n// import { SiderMenu } from '@components/common/layout/menu';\nimport {\n  FundsIcon,\n  PaymentTokensHistoryIcon,\n  TransactionHistoryIcon,\n  PurchasedImageIcon,\n  PurchasedItemIcon,\n  PurchasedVideoIcon,\n  MyProductIcon,\n  VideosIcon,\n  PhotosIcon,\n  EarningIcon,\n  PayoutRequestIcon,\n  Group\n} from '@components/common/base/icons';\nimport { IUser, IPerformer, IStudio } from 'src/interfaces';\nimport dynamic from 'next/dynamic';\nimport { converDuration, createSelector } from 'src/lib';\nimport Footer from '@components/common/layout/footer';\nimport NumberFormat from '@components/common/layout/numberformat';\n\nconst SiderMenuNoSSR = dynamic(() => import('@components/common/layout/menu'), {\n  ssr: false\n});\n\ninterface DefaultProps extends IUIConfig {\n  children: any;\n  loggedIn: boolean;\n  config: IUIConfig;\n  updateUIValue: Function;\n  loadUIValue: Function;\n  currentUser: IUser & IPerformer & IStudio;\n  totalNotReadMessage: number;\n}\n\ninterface IState {\n  routerChange: boolean;\n}\n\nconst userSettingMenu = [\n  {\n    id: 'account-settings',\n    name: 'Account Settings',\n    route: '/account/user/account-settings',\n    icon: <SettingOutlined />\n  },\n  {\n    id: 'messages',\n    name: 'Messages',\n    route: '/messages',\n    icon: <MessageOutlined />\n  },\n  {\n    id: 'favorites',\n    name: 'My favorites',\n    route: '/account/user/favorites',\n    icon: <HeartOutlined />\n  },\n  {\n    id: 'funds-tokens',\n    name: 'Funds / Tokens',\n    route: '/account/user/funds-tokens',\n    icon: (\n      <span className=\"anticon\">\n        <FundsIcon />\n      </span>\n    )\n  },\n  {\n    id: 'transaction-history',\n    name: 'Transaction History',\n    route: '/account/user/transaction-history',\n    icon: (\n      <span className=\"anticon\">\n        <TransactionHistoryIcon />\n      </span>\n    )\n  },\n  {\n    id: 'payment-token-history',\n    name: 'Payment Tokens History',\n    route: '/account/user/payment-token-history',\n    icon: (\n      <span className=\"anticon\">\n        <PaymentTokensHistoryIcon />\n      </span>\n    )\n  },\n  {\n    id: 'order',\n    name: 'My orders',\n    route: '/account/user/orders',\n    icon: <OrderedListOutlined />\n  },\n  {\n    id: 'purchased-galleries',\n    name: 'Purchased Galleries',\n    route: '/account/user/purchased-gallery',\n    icon: (\n      <span className=\"anticon\">\n        <PurchasedImageIcon />\n      </span>\n    )\n  },\n  {\n    id: 'purchased-videos',\n    name: 'Purchased Videos',\n    route: '/account/user/purchased-video',\n    icon: (\n      <span className=\"anticon\">\n        <PurchasedVideoIcon />\n      </span>\n    )\n  },\n  {\n    id: 'purchased-products',\n    name: 'Purchased Products',\n    route: '/account/user/purchased-product',\n    icon: (\n      <span className=\"anticon\">\n        <PurchasedItemIcon />\n      </span>\n    )\n  }\n  // {\n  //   id: 'refund-request',\n  //   name: 'Refund Requests',\n  //   route: '/account/user/refund-request',\n  //   icon: <RollbackOutlined />\n  // }\n];\n\nconst performerSettingMenu = [\n  {\n    id: 'profile',\n    name: 'Profile',\n    route: '/account/performer/profile',\n    icon: <UserOutlined />\n  },\n  {\n    id: 'account-settings',\n    name: 'Account Settings',\n    route: '/account/performer/account-settings',\n    icon: <SettingOutlined />\n  },\n  {\n    id: 'messages',\n    name: 'Messages',\n    route: '/messages',\n    icon: <MessageOutlined />\n  },\n  {\n    id: 'earning',\n    name: 'Earnings',\n    route: '/account/performer/earning',\n    icon: (\n      <span className=\"anticon\">\n        <EarningIcon />\n      </span>\n    )\n  },\n  {\n    id: 'schedules',\n    name: 'Schedules',\n    route: '/account/performer/schedules',\n    icon: <CalendarOutlined />\n  },\n  {\n    id: 'my-products',\n    name: 'Products',\n    route: '/account/performer/products',\n    icon: (\n      <span className=\"anticon\">\n        <MyProductIcon />\n      </span>\n    )\n  },\n  {\n    id: 'my-videos',\n    name: 'Videos',\n    route: '/account/performer/videos',\n    icon: (\n      <span className=\"anticon\">\n        <VideosIcon />\n      </span>\n    )\n  },\n  {\n    id: 'my-galleries',\n    name: 'Galleries',\n    route: '/account/performer/galleries',\n    icon: (\n      <span className=\"anticon\">\n        <PhotosIcon />\n      </span>\n    )\n  },\n  {\n    id: 'my-blocking',\n    name: 'Blocking',\n    route: '/account/performer/geo-block',\n    icon: <GlobalOutlined />\n  },\n  {\n    id: 'payout-request',\n    name: 'Payout Request',\n    route: '/account/performer/payout-requests',\n    icon: (\n      <span className=\"anticon\">\n        <PayoutRequestIcon />\n      </span>\n    )\n  },\n  {\n    id: 'order',\n    name: 'Orders',\n    route: '/account/performer/orders',\n    icon: <OrderedListOutlined />\n  }\n];\n\nconst studioSettingMenu = [\n  {\n    id: 'account-settings',\n    name: 'Account Settings',\n    route: '/studio/account-settings',\n    icon: <SettingOutlined />\n  },\n  {\n    id: 'earning',\n    name: 'Earnings',\n    route: '/studio/earning',\n    icon: (\n      <span className=\"anticon\">\n        <EarningIcon />\n      </span>\n    )\n  },\n  {\n    id: 'commission',\n    name: 'Commission',\n    route: '/studio/commissions',\n    icon: <PieChartOutlined />\n  },\n  {\n    id: 'studio-models',\n    name: 'Models',\n    route: '/studio/models',\n    icon: (\n      <span className=\"anticon\">\n        <Group />\n      </span>\n    )\n  },\n  {\n    id: 'studio-payout-requests',\n    name: 'Payout Requests',\n    route: '/studio/payout-requests',\n    icon: (\n      <span className=\"anticon\">\n        <PayoutRequestIcon />\n      </span>\n    )\n  },\n  {\n    id: 'studioperformer-requests',\n    name: 'Performer Payout Requests',\n    route: '/studio/payout-requests/performer-requests',\n    icon: <SolutionOutlined />\n  },\n  {\n    id: 'performer-stats',\n    name: 'Performer Stats',\n    route: '/studio/models/stats',\n    icon: <LineChartOutlined />\n  }\n];\n\nclass PrimaryLayout extends React.PureComponent<DefaultProps, IState> {\n  enquireHandler: any;\n\n  rightPrimaryLayoutRef: React.RefObject<HTMLDivElement>;\n\n  constructor(props: DefaultProps) {\n    super(props);\n    this.state = {\n      // security request for primary layout\n      routerChange: false\n    };\n  }\n\n  async componentDidMount() {\n    const { loadUIValue: dispatchLoadUIValue } = this.props;\n    dispatchLoadUIValue();\n    process.browser && this.handleStateChange();\n    this.rightPrimaryLayoutRef = React.createRef<HTMLDivElement>();\n  }\n\n  handleStateChange() {\n    Router.events.on('routeChangeStart', () => this.setState({ routerChange: true }));\n    Router.events.on('routeChangeComplete', () => this.setState({ routerChange: false }));\n  }\n\n  onLive() {\n    Router.push('/live');\n  }\n\n  onSideMenuClick() {\n    if (this.rightPrimaryLayoutRef.current instanceof HTMLDivElement) {\n      const container = document.querySelector('.container');\n      const rect = this.rightPrimaryLayoutRef.current.getBoundingClientRect();\n      if (container) {\n        container.scroll({ top: rect.top, behavior: 'smooth' });\n      }\n    }\n  }\n\n  render() {\n    const {\n      children,\n      collapsed,\n      fixedHeader,\n      logo,\n      currentUser,\n      totalNotReadMessage,\n      // siteName,\n      theme\n    } = this.props;\n    const { routerChange } = this.state;\n    const headerProps = {\n      logo,\n      collapsed,\n      theme\n    };\n\n    return (\n      <Layout>\n        <Head>\n          <link\n            href=\"https://unpkg.com/video.js@7.8.3/dist/video-js.css\"\n            rel=\"stylesheet\"\n          />\n          <script src=\"https://unpkg.com/video.js@7.8.3/dist/video.js\" />\n          <script src=\"https://unpkg.com/@videojs/http-streaming@1.13.3/dist/videojs-http-streaming.js\" />\n        </Head>\n        <div\n          className=\"container\"\n          style={{ paddingTop: fixedHeader ? 72 : 0 }}\n          id=\"primaryLayout\"\n        >\n          <Header {...headerProps} />\n          <Layout.Content className=\"content\">\n            {routerChange && <Loader spinning fullScreen />}\n            <div className=\"primary-content\">\n              <Row gutter={10}>\n                <Col xs={24} sm={4}>\n                  {currentUser?._id && currentUser?.role === 'performer' && (\n                    <Space direction=\"vertical\" style={{ width: '100%' }}>\n                      <Button\n                        type=\"primary\"\n                        className=\"btn-live\"\n                        onClick={this.onLive.bind(this)}\n                      >\n                        Go Live\n                      </Button>\n                      <SiderMenuNoSSR\n                        menus={performerSettingMenu}\n                        totalNotReadMessage={totalNotReadMessage}\n                        onClick={this.onSideMenuClick.bind(this)}\n                      />\n                    </Space>\n                  )}\n                  {currentUser?._id && currentUser?.role === 'user' && (\n                    <SiderMenuNoSSR\n                      menus={userSettingMenu}\n                      totalNotReadMessage={totalNotReadMessage}\n                      onClick={this.onSideMenuClick.bind(this)}\n                    />\n                  )}\n                  {currentUser?._id && currentUser?.role === 'studio' && (\n                    <>\n                      <div className=\"tk-studio\">\n                        <div className=\"stat\">\n                          <span>Total models</span>\n                          <span>{currentUser.stats.totalPerformer || 0}</span>\n                        </div>\n                        <div className=\"stat\">\n                          <span>Total earned</span>\n                          <span>\n                            <NumberFormat\n                              value={currentUser.stats.totalTokenEarned || 0}\n                            />\n                          </span>\n                        </div>\n                        <div className=\"stat\">\n                          <span>Total sessions</span>\n                          <span>{currentUser.stats.totalOnlineToday || 0}</span>\n                        </div>\n                        <div className=\"stat\">\n                          <span>Total hours online</span>\n                          <span>\n                            {currentUser.stats.totalHoursOnline\n                              && converDuration(\n                                currentUser.stats.totalHoursOnline\n                              )}\n                          </span>\n                        </div>\n                      </div>\n                      <SiderMenuNoSSR\n                        menus={studioSettingMenu}\n                        onClick={this.onSideMenuClick.bind(this)}\n                        // totalNotReadMessage={totalNotReadMessage}\n                      />\n                    </>\n                  )}\n                </Col>\n                <Col\n                  xs={24}\n                  sm={20}\n                  className=\"right-primary-layout\"\n                  ref={this.rightPrimaryLayoutRef}\n                >\n                  {children}\n                </Col>\n              </Row>\n            </div>\n          </Layout.Content>\n          <Footer />\n          <BackTop\n            className=\"backTop\"\n            target={() => document.querySelector('#primaryLayout') as HTMLElement}\n          />\n        </div>\n      </Layout>\n    );\n  }\n}\n\nconst userSelecter = (state) => state.user.current;\nconst performerSelecter = (state) => state.performer.current;\nconst studioSelecter = (state) => state.studio.current;\nconst authSelecter = (state) => state.auth;\n\nconst currentUserSelecter = createSelector(\n  userSelecter,\n  performerSelecter,\n  studioSelecter,\n  authSelecter,\n  (user, performer, studio, auth) => {\n    if (!auth.loggedIn) return {};\n\n    if (user?._id) {\n      return { ...user, role: 'user' };\n    }\n\n    if (performer?._id) {\n      return { ...performer, role: 'performer' };\n    }\n\n    if (studio?._id) {\n      return { ...studio, role: 'studio' };\n    }\n\n    return {};\n  }\n);\n\nconst mapStateToProps = (state: any) => ({\n  ...state.ui,\n  ...state.auth,\n  totalNotReadMessage: state.message.totalNotReadMessage,\n  currentUser: currentUserSelecter(state)\n});\nconst mapDispatchToProps = { loadUIValue };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryLayout);\n"]},"metadata":{},"sourceType":"module"}