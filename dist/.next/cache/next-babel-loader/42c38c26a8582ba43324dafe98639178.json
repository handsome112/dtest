{"ast":null,"code":"var _jsxFileName = \"/var/www/dtest.live/src/components/stream-chat/UserList.tsx\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport { Dropdown, Menu, message } from 'antd';\nimport { DownOutlined, StopOutlined } from '@ant-design/icons';\nimport { connect } from 'react-redux';\nimport { getResponseError } from '@lib/utils';\nimport { performerService } from '@services/perfomer.service';\n\nconst StreamingChatUsers = ({\n  loggedIn,\n  members,\n  currentPerformer,\n  placeholderAvatarUrl\n}) => {\n  const blockUser = React.useCallback(async ({\n    key\n  }) => {\n    if (!window.confirm('Are you sure to block this user?')) return;\n\n    try {\n      await performerService.geoBlock({\n        userIds: [key]\n      });\n    } catch (e) {\n      const error = await Promise.resolve(e);\n      message.error(getResponseError(error));\n    }\n  }, [members]);\n  return __jsx(\"div\", {\n    className: \"conversation-users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, members.length > 0 && members.map(m => __jsx(\"div\", {\n    className: \"user\",\n    key: m._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, loggedIn && currentPerformer && currentPerformer._id ? __jsx(Dropdown, {\n    overlay: __jsx(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 19\n      }\n    }, __jsx(Menu.Item, {\n      onClick: blockUser,\n      key: m._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 23\n      }\n    }, __jsx(StopOutlined, {\n      size: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }\n    }), ' ', \"Block this user\"))),\n    placement: \"bottomLeft\",\n    trigger: ['hover', 'click'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    alt: \"avatar\",\n    src: (m === null || m === void 0 ? void 0 : m.avatar) || placeholderAvatarUrl,\n    width: \"35px\",\n    style: {\n      borderRadius: '50%',\n      marginRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 19\n    }\n  }), m.username, ' ', __jsx(DownOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }))) : __jsx(\"span\", {\n    className: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    alt: \"avatar\",\n    src: (m === null || m === void 0 ? void 0 : m.avatar) || '/default-user-icon.png',\n    width: \"35px\",\n    style: {\n      borderRadius: '50%',\n      marginRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), m.username)))));\n};\n\nconst mapStates = state => ({\n  placeholderAvatarUrl: state.ui.placeholderAvatarUrl\n});\n\nexport default connect(mapStates)(StreamingChatUsers);","map":null,"metadata":{},"sourceType":"module"}