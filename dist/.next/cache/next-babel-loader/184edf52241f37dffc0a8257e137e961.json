{"ast":null,"code":"var _jsxFileName = \"/var/www/dtest.live/pages/auth/resend-verification-email/index.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport '../index.less';\nimport { PureComponent } from 'react';\nimport { Input, Form, Button, message, Select, Alert } from 'antd';\nimport Head from 'next/head';\nimport Page from '@components/common/layout/page';\nimport { getResponseError, validateMessages } from 'src/lib';\nimport { authService } from 'src/services';\nimport { connect } from 'react-redux';\nimport { FormRegisterPlaceHolder } from '@components/common/layout';\n\nclass ResendVeryficationEmail extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submiting: false,\n      error: false,\n      errorMessage: ''\n    };\n  }\n\n  async submit(data) {\n    try {\n      this.setState({\n        error: false,\n        errorMessage: ''\n      });\n      await authService.resendVerificationEmail(data);\n      message.success('Verification email have been sent. Please check your inbox or spam box!');\n    } catch (e) {\n      const error = await Promise.resolve(e);\n      this.setState({\n        error: true,\n        errorMessage: getResponseError(error)\n      });\n    }\n  }\n\n  render() {\n    const {\n      submiting,\n      error,\n      errorMessage\n    } = this.state;\n    const {\n      ui\n    } = this.props;\n    return __jsx(React.Fragment, null, __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, __jsx(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, \"Resend Verification Email\")), __jsx(Page, {\n      className: \"register-page resend-verification-email-page\",\n      inner: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"form-register-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, __jsx(Form, {\n      onFinish: this.submit.bind(this),\n      layout: \"vertical\",\n      validateMessages: validateMessages,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }, \"Resend Verification Email\"), __jsx(Form.Item, {\n      name: \"email\",\n      rules: [{\n        required: true,\n        message: 'Please input your email!'\n      }, {\n        type: 'email',\n        message: 'The input is not valid E-mail!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, __jsx(Input, {\n      type: \"email\",\n      placeholder: \"E-mail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    })), __jsx(Form.Item, {\n      name: \"source\",\n      rules: [{\n        required: true\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, __jsx(Select, {\n      placeholder: \"You are?\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, __jsx(Select.Option, {\n      value: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, \"User\"), __jsx(Select.Option, {\n      value: \"performer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, \"Performer\"), __jsx(Select.Option, {\n      value: \"studio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, \"Studio\"))), error && __jsx(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, __jsx(Alert, {\n      showIcon: true,\n      type: \"error\",\n      description: errorMessage,\n      message: \"Error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    })), __jsx(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, __jsx(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      loading: submiting,\n      disabled: submiting,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, \"Submit\")))), __jsx(FormRegisterPlaceHolder, {\n      ui: ui,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\n_defineProperty(ResendVeryficationEmail, \"layout\", 'auth');\n\nconst mapStateToProps = state => ({\n  ui: state.ui\n});\n\nexport default connect(mapStateToProps)(ResendVeryficationEmail);","map":null,"metadata":{},"sourceType":"module"}