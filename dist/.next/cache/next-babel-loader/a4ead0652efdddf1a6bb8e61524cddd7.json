{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { message } from 'antd';\nimport PageHeader from '@components/common/layout/page-header';\nimport Head from 'next/head';\nimport Router from 'next/router';\nimport React, { PureComponent } from 'react';\nimport StudioAddModelForm from '@components/studio/models-manager/studio-add-model-form';\nimport { getResponseError } from '@lib/utils';\nimport { studioService } from 'src/services';\nimport { updateTotalPerformer } from 'src/redux/studio/actions';\nimport { connect } from 'react-redux';\nimport './index.less';\n\nclass StudioAddModel extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      error: false,\n      loading: false,\n      message: ''\n    });\n  }\n\n  async onFinish(data) {\n    const {\n      updateTotalPerformer: dispatchUpdateTotalPerformer\n    } = this.props;\n\n    try {\n      this.setState({\n        loading: true,\n        error: false,\n        message: ''\n      });\n      await studioService.addModel(data);\n      message.success('Added successfully');\n      dispatchUpdateTotalPerformer(1);\n      Router.push('/studio/models');\n    } catch (e) {\n      const error = await Promise.resolve(e);\n      this.setState({\n        error: true,\n        message: getResponseError(error)\n      });\n    } finally {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    const {\n      error,\n      loading,\n      message: newMessage\n    } = this.state;\n    return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Add New Member\")), __jsx(\"div\", {\n      className: \"studio-models-background\"\n    }, __jsx(PageHeader, {\n      title: \"\"\n    }), __jsx(\"div\", {\n      className: \"studio-models-box\"\n    }, __jsx(StudioAddModelForm, {\n      onFinish: this.onFinish.bind(this),\n      loading: loading,\n      error: error,\n      message: newMessage\n    }))));\n  }\n\n}\n\n_defineProperty(StudioAddModel, \"authenticate\", true);\n\n_defineProperty(StudioAddModel, \"layout\", 'primary');\n\nexport default connect(null, {\n  updateTotalPerformer\n})(StudioAddModel);","map":null,"metadata":{},"sourceType":"module"}