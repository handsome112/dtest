{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[116],{\"9Byw\":function(e,t,n){\"use strict\";n.d(t,\"z\",(function(){return i})),n.d(t,\"C\",(function(){return u})),n.d(t,\"I\",(function(){return c})),n.d(t,\"F\",(function(){return s})),n.d(t,\"y\",(function(){return a})),n.d(t,\"H\",(function(){return l})),n.d(t,\"E\",(function(){return f})),n.d(t,\"G\",(function(){return m})),n.d(t,\"D\",(function(){return d})),n.d(t,\"l\",(function(){return p})),n.d(t,\"n\",(function(){return _})),n.d(t,\"m\",(function(){return O})),n.d(t,\"w\",(function(){return h})),n.d(t,\"o\",(function(){return v})),n.d(t,\"q\",(function(){return S})),n.d(t,\"p\",(function(){return y})),n.d(t,\"x\",(function(){return j})),n.d(t,\"u\",(function(){return N})),n.d(t,\"i\",(function(){return T})),n.d(t,\"k\",(function(){return R})),n.d(t,\"j\",(function(){return C})),n.d(t,\"v\",(function(){return P})),n.d(t,\"a\",(function(){return w})),n.d(t,\"h\",(function(){return I})),n.d(t,\"f\",(function(){return M})),n.d(t,\"g\",(function(){return U})),n.d(t,\"B\",(function(){return D})),n.d(t,\"b\",(function(){return x})),n.d(t,\"e\",(function(){return G})),n.d(t,\"c\",(function(){return B})),n.d(t,\"d\",(function(){return q})),n.d(t,\"A\",(function(){return F})),n.d(t,\"r\",(function(){return Q})),n.d(t,\"t\",(function(){return Y})),n.d(t,\"s\",(function(){return K})),n.d(t,\"J\",(function(){return X}));var r=n(\"vo7w\"),i=Object(r.a)(\"updateCurrentStudio\"),o=Object(r.b)(\"updateStudio\",\"UPDATE_STUDIO\"),u=o.updateStudio,c=o.updateStudioSuccess,s=o.updateStudioFail,a=Object(r.a)(\"updatingStudio\"),l=Object(r.a)(\"UPDATE_STUDIO_PAYMENT_INFO\"),f=Object(r.a)(\"UPDATE_STUDIO_DIRECT_DEPOSIT\"),m=Object(r.a)(\"UPDATE_STUDIO_PAXUM\"),d=Object(r.a)(\"UPDATE_STUDIO_BITPAY\"),b=Object(r.b)(\"getStudioEarning\",\"GET_STUDIO_EARNING\"),p=b.getStudioEarning,_=b.getStudioEarningSuccess,O=b.getStudioEarningFail,h=Object(r.a)(\"SET_GETTING_STUDIO_EARNIG\"),E=Object(r.b)(\"getStudioPayoutRequest\",\"GET_STUDIO_PAYOUT_REQUEST\"),v=E.getStudioPayoutRequest,S=E.getStudioPayoutRequestSuccess,y=E.getStudioPayoutRequestFail,j=Object(r.a)(\"SET_GETTING_STUDIO_PAYOUT_REQUEST\"),N=Object(r.a)(\"REMOVE_STUDIO_PAYOUT_REQUEST\"),g=Object(r.b)(\"getPerformerRequest\",\"GET_PERFORMER_REQUEST\"),T=g.getPerformerRequest,R=g.getPerformerRequestSuccess,C=g.getPerformerRequestFail,P=Object(r.a)(\"SET_GETTING_PERFORMER_REQUEST\"),k=Object(r.b)(\"getMembers\",\"GET_MEMBERS\"),w=k.getMembers,I=k.getMembersSuccess,M=k.getMembersFail,U=Object(r.a)(\"GET_MEMBER_SEACHING\"),D=Object(r.a)(\"UPDATE_MEMBER_STATUS\"),A=Object(r.b)(\"getMembersCommissions\",\"GET_MEMBERS_COMMSSIONS\"),x=A.getMembersCommissions,G=A.getMembersCommissionsSuccess,B=A.getMembersCommissionsFail,q=Object(r.a)(\"GET_MEMBER_COMMSSIO_SEACHING\"),F=Object(r.a)(\"UPDATE_MEMBER_COMMISSION\"),J=Object(r.b)(\"getStudioStats\",\"GET_STUDIO_STATS\"),Q=J.getStudioStats,Y=J.getStudioStatsSuccess,K=J.getStudioStatsFail,X=Object(r.a)(\"UPDATE_TOTAL_PERFORMER\")},\"9SDT\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/studio/commissions\",function(){return n(\"hp9R\")}])},Acen:function(e,t,n){\"use strict\";var r=n(\"wx14\"),i=n(\"KQm4\"),o=n(\"1OyB\"),u=n(\"vuIU\"),c=n(\"Ji7U\"),s=n(\"md7G\"),a=n(\"foSv\"),l=n(\"q1tI\"),f=n.n(l),m=n(\"2/Rp\"),d=n(\"kLXV\"),b=(n(\"aE3C\"),\"/var/www/dtest.live/src/components/common/base/popup.tsx\"),p=f.a.createElement;function _(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(a.a)(e);if(t){var i=Object(a.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var O=function(e){Object(c.a)(n,e);var t=_(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={visible:!1},r}return Object(u.a)(n,[{key:\"onOk\",value:function(){var e=this.props.onOk;e&&e()}},{key:\"onCancel\",value:function(){var e=this.props.onCancel;e&&e(),this.setState({visible:!1})}},{key:\"setVisible\",value:function(e){this.setState({visible:e})}},{key:\"render\",value:function(){var e=this.state.visible,t=this.props,n=t.content,o=t.loading,u=t.okText,c=t.cancelText,s=t.okButtonProps,a=this.props.footer;return a=a?[p(m.a,{key:\"back\",type:\"default\",onClick:this.onCancel.bind(this),__self:this,__source:{fileName:b,lineNumber:48,columnNumber:9}},c||\"Cancel\")].concat(Object(i.a)(a),[p(m.a,Object(r.a)({key:\"submit\",type:\"primary\",onClick:this.onOk.bind(this),loading:o},s,{__self:this,__source:{fileName:b,lineNumber:52,columnNumber:9}}),u||\"OK\")]):[p(m.a,{key:\"back\",type:\"default\",onClick:this.onCancel.bind(this),__self:this,__source:{fileName:b,lineNumber:58,columnNumber:9}},c||\"Cancel\"),p(m.a,Object(r.a)({key:\"submit\",type:\"primary\",onClick:this.onOk.bind(this),disabled:o,loading:o},s,{__self:this,__source:{fileName:b,lineNumber:61,columnNumber:9}}),u||\"OK\")],p(d.a,Object(r.a)({},this.props,{visible:e,centered:!0,closeIcon:!0,className:\"popup\",footer:a,onCancel:this.onCancel.bind(this),__self:this,__source:{fileName:b,lineNumber:67,columnNumber:7}}),n)}}]),n}(l.PureComponent);t.a=O},R3zJ:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o})),n.d(t,\"b\",(function(){return u}));var r,i=n(\"MNnm\"),o=function(){return Object(i.a)()&&window.document.documentElement},u=function(){if(!o())return!1;if(void 0!==r)return r;var e=document.createElement(\"div\");return e.style.display=\"flex\",e.style.flexDirection=\"column\",e.style.rowGap=\"1px\",e.appendChild(document.createElement(\"div\")),e.appendChild(document.createElement(\"div\")),document.body.appendChild(e),r=1===e.scrollHeight,document.body.removeChild(e),r}},aE3C:function(e,t,n){},hkKa:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(\"ODXe\"),i=n(\"q1tI\");function o(){var e=i.useReducer((function(e){return e+1}),0);return Object(r.a)(e,2)[1]}},hp9R:function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),i=n.n(r),o=n(\"HaE+\"),u=n(\"1OyB\"),c=n(\"vuIU\"),s=n(\"JX7q\"),a=n(\"Ji7U\"),l=n(\"md7G\"),f=n(\"foSv\"),m=n(\"rePB\"),d=n(\"tsqr\"),b=n(\"5rEg\"),p=n(\"Y1dN\"),_=n(\"8Kt/\"),O=n.n(_),h=n(\"9Byw\"),E=n(\"q1tI\"),v=n.n(E),S=n(\"psLn\"),y=n(\"2/Rp\"),j=n(\"wCAj\"),N=\"/var/www/dtest.live/src/components/studio/models-manager/studio-commissions-table.tsx\",g=v.a.createElement;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.data,n=e.searching,r=e.total,i=e.pageSize,o=e.update,u=e.onChange,c=[{title:\"Username\",key:\"username\",dataIndex:\"username\"},{title:\"Commission\",key:\"commission\",dataIndex:\"commissionSetting\",render:function(e){var t=e.memberCommission;return g(\"span\",{__self:this,__source:{fileName:N,lineNumber:37,columnNumber:11}},t,\"%\")}},{title:\"Created At\",key:\"studioCommission\",dataIndex:\"createdAt\",render:function(e){return g(\"span\",{__self:this,__source:{fileName:N,lineNumber:49,columnNumber:16}},Object(S.f)(e))}},{title:\"Actions\",key:\"actions\",dataIndex:\"_id\",render:function(e){return g(y.a,{type:\"primary\",onClick:function(){return o(e)},__self:undefined,__source:{fileName:N,lineNumber:57,columnNumber:9}},\"Update\")}}],s=t.map((function(e){return R(R({},e),{},{key:e._id})}));return g(j.a,{dataSource:s,columns:c,loading:n,pagination:{pageSize:i,total:r},onChange:u,scroll:{x:!0},__self:undefined,__source:{fileName:N,lineNumber:65,columnNumber:5}})},P=n(\"/MKj\"),k=(n(\"YFSQ\"),n(\"Acen\")),w=n(\"CLrh\"),I=\"/var/www/dtest.live/pages/studio/commissions/index.tsx\",M=v.a.createElement;function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var A=function(e){Object(a.a)(n,e);var t=D(n);function n(e){var r;return Object(u.a)(this,n),r=t.call(this,e),Object(m.a)(Object(s.a)(r),\"popupRef\",void 0),Object(m.a)(Object(s.a)(r),\"inputRef\",void 0),r.state={limit:12,offset:0,sortBy:\"createdAt\",sort:\"desc\",filter:{},commissionId:null},r}return Object(c.a)(n,[{key:\"componentDidMount\",value:function(){(0,this.props.getMembersCommissions)(this.state)}},{key:\"componentDidUpdate\",value:function(e,t){var n=this.props.getMembersCommissions;t!==this.state&&n(this.state)}},{key:\"handleTableChange\",value:function(e,t,n){var r=this.state;this.setState(Object(S.l)(e,t,n,r))}},{key:\"onOk\",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.updateMemberCommision,(n=this.state.commissionId)&&this.inputRef){e.next=4;break}return e.abrupt(\"return\");case 4:return e.prev=4,r=this.inputRef.state.value,e.next=8,w.s.updateMemberCommission(n,parseInt(r,10));case 8:t({id:n,memberCommission:parseInt(r,10)}),d.b.success(\"Update success\"),this.popupRef&&this.popupRef.setVisible(!1),e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(4),e.next=17,Promise.resolve(e.t0);case 17:o=e.sent,d.b.error(Object(S.k)(o));case 19:case\"end\":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:\"update\",value:function(e){this.setState({commissionId:e}),this.popupRef&&this.popupRef.setVisible(!0)}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.data,r=t.searching,i=t.total,o=this.state.limit;return M(v.a.Fragment,null,M(O.a,{__self:this,__source:{fileName:I,lineNumber:107,columnNumber:9}},M(\"title\",{__self:this,__source:{fileName:I,lineNumber:108,columnNumber:11}},\"Commissions\")),M(k.a,{ref:function(t){return e.popupRef=t},content:M(b.a,{type:\"number\",min:0,max:100,ref:function(t){return e.inputRef=t},__self:this,__source:{fileName:I,lineNumber:113,columnNumber:13}}),onOk:this.onOk.bind(this),__self:this,__source:{fileName:I,lineNumber:110,columnNumber:9}}),M(\"div\",{className:\"studio-commisson-background\",__self:this,__source:{fileName:I,lineNumber:122,columnNumber:9}},M(p.a,{title:\"Commissions\",__self:this,__source:{fileName:I,lineNumber:123,columnNumber:11}}),M(\"div\",{className:\"studio-commisson-box\",__self:this,__source:{fileName:I,lineNumber:124,columnNumber:11}},M(C,{data:n,searching:r,total:i,update:this.update.bind(this),onChange:this.handleTableChange.bind(this),pageSize:o,__self:this,__source:{fileName:I,lineNumber:125,columnNumber:13}}))))}}]),n}(E.PureComponent);Object(m.a)(A,\"authenticate\",\"studio\"),Object(m.a)(A,\"layout\",\"primary\");var x={getMembersCommissions:h.b,updateMemberCommision:h.A};t.default=Object(P.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.studio.commissions)}),x)(A)}},[[\"9SDT\",0,1,3,4,2,5,7,6,8,9,10,11,13,14,15,16,17,19,20,21,22,25,32,12]]]);","extractedComments":[]}