{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[90],{Abbm:function(e,t,n){e.exports={spinner:\"FqxmFNz4OrHU-AwWcntBB\"}},GPi1:function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),a=n.n(r),c=n(\"HaE+\"),o=n(\"1OyB\"),i=n(\"vuIU\"),l=n(\"Ji7U\"),s=n(\"md7G\"),u=n(\"foSv\"),f=n(\"rePB\"),m=n(\"tsqr\"),d=n(\"Y1dN\"),b=n(\"8Kt/\"),p=n.n(b),_=n(\"q1tI\"),N=n.n(_),v=n(\"CLrh\"),h=n(\"NsEo\"),O=n(\"TW7V\"),y=n(\"mr32\"),g=n(\"wCAj\"),j=n(\"psLn\"),w=\"/var/www/dtest.live/src/components/transaction/table-list.tsx\",x=N.a.createElement,P=function(e){var t=e.transactions,n=e.rowKey,r=e.pageSize,a=e.total,c=e.onChange,o=[{title:\"Transaction ID\",dataIndex:\"_id\",key:\"_id\",render:function(e){return(null===e||void 0===e?void 0:e.slice(16,24).toUpperCase())||\"N/A\"}},{title:\"Products\",dataIndex:\"products\",key:\"products\",render:function(e){var t=this;return(e||[]).map((function(e){var n;return x(\"p\",{__self:t,__source:{fileName:w,lineNumber:36,columnNumber:11}},x(\"strong\",{__self:t,__source:{fileName:w,lineNumber:37,columnNumber:13}},e.name),\" \",x(\"br\",{__self:t,__source:{fileName:w,lineNumber:39,columnNumber:13}}),x(\"small\",{__self:t,__source:{fileName:w,lineNumber:40,columnNumber:13}},(null===e||void 0===e||null===(n=e.description)||void 0===n?void 0:n.slice(0,150))||\"\"))}))}},{title:\"Price\",dataIndex:\"totalPrice\",key:\"totalPrice\",align:\"center\",sorter:!0,render:function(e){return(null===e||void 0===e?void 0:e.toFixed(2))||\"N/A\"}},{title:\"Status\",dataIndex:\"status\",key:\"status\",filters:[{text:\"Success\",value:\"success\"},{text:\"Pending\",value:\"pending\"},{text:\"Canceled\",value:\"canceled\"}],onFilter:function(e,t){return t.status.includes(e)},render:function(e){switch(e){case\"success\":return x(y.a,{color:\"green\",__self:this,__source:{fileName:w,lineNumber:66,columnNumber:20}},\"Success\");case\"pending\":return x(y.a,{color:\"warning\",__self:this,__source:{fileName:w,lineNumber:68,columnNumber:20}},\"Pending\");case\"canceled\":return x(y.a,{color:\"default\",__self:this,__source:{fileName:w,lineNumber:70,columnNumber:20}},\"Canceled\");default:return x(y.a,{color:\"default\",__self:this,__source:{fileName:w,lineNumber:72,columnNumber:20}},\"Canceled\")}}},{title:\"Created At\",dataIndex:\"createdAt\",sorter:!0,key:\"createdAt\",render:function(e){return x(\"span\",{__self:this,__source:{fileName:w,lineNumber:82,columnNumber:16}},Object(j.f)(e))}}];return x(g.a,{columns:o,rowKey:n,dataSource:t,pagination:{total:a,pageSize:r},onChange:c.bind(undefined),__self:undefined,__source:{fileName:w,lineNumber:87,columnNumber:5}})},C=(n(\"1PdN\"),\"/var/www/dtest.live/pages/account/user/transaction-history/index.tsx\"),k=N.a.createElement;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var T=function(e){Object(l.a)(n,e);var t=I(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={loading:!0,transaction:[],limit:10,total:0,offset:0,sortBy:\"createdAt\",sort:\"desc\",filter:{}},r}return Object(i.a)(n,[{key:\"componentDidMount\",value:function(){this.getData()}},{key:\"onChange\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this.state,e.next=3,this.setState(Object(h.i)(t,n,r,c));case 3:this.getData();case 4:case\"end\":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:\"getData\",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c,o,i,l,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.filter,r=t.limit,c=t.offset,o=t.sortBy,i=t.sort,e.prev=1,e.next=4,v.t.search(S(S({},n),{},{limit:r,offset:c,sortBy:o,sort:i}));case 4:return l=e.sent,e.next=7,this.setState({transaction:l.data.data,total:l.data.total});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),s=Promise.resolve(e.t0),m.b.error(Object(h.h)(s));case 13:return e.prev=13,this.setState({loading:!1}),e.finish(13);case 16:case\"end\":return e.stop()}}),e,this,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.state,t=e.loading,n=e.transaction,r=e.total,a=e.limit;return k(N.a.Fragment,null,k(p.a,{__self:this,__source:{fileName:C,lineNumber:76,columnNumber:9}},k(\"title\",{__self:this,__source:{fileName:C,lineNumber:77,columnNumber:11}},\"Transaction History\")),k(\"div\",{className:\"transaction-history-page\",__self:this,__source:{fileName:C,lineNumber:79,columnNumber:9}},k(d.a,{title:\"Transaction History\",__self:this,__source:{fileName:C,lineNumber:80,columnNumber:11}}),k(\"div\",{__self:this,__source:{fileName:C,lineNumber:81,columnNumber:11}},t?k(O.a,{__self:this,__source:{fileName:C,lineNumber:83,columnNumber:15}}):k(P,{rowKey:\"_id\",transactions:n,pageSize:a,total:r,onChange:this.onChange.bind(this),__self:this,__source:{fileName:C,lineNumber:85,columnNumber:15}}))))}}]),n}(_.PureComponent);Object(f.a)(T,\"authenticate\",!0),Object(f.a)(T,\"layout\",\"primary\");t.default=T},TW7V:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r),c=n(\"TSYQ\"),o=n.n(c),i=(n(\"Abbm\"),\"/var/www/dtest.live/src/components/common/base/loader.tsx\"),l=a.a.createElement;t.a=function(e){var t=e.spinning,n=void 0!==t&&t,r=e.fullScreen,a=void 0!==r&&r;return l(\"div\",{className:o()(\"loader\",{hidden:!n,fullScreen:a}),__self:undefined,__source:{fileName:i,lineNumber:6,columnNumber:3}},l(\"div\",{className:\"warpper\",__self:undefined,__source:{fileName:i,lineNumber:12,columnNumber:5}},l(\"div\",{className:\"text\",__self:undefined,__source:{fileName:i,lineNumber:14,columnNumber:7}},l(\"img\",{src:\"/loading-ico.gif\",width:\"65px\",alt:\"\",__self:undefined,__source:{fileName:i,lineNumber:14,columnNumber:29}}))))}},ZrG8:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/user/transaction-history\",function(){return n(\"GPi1\")}])},hkKa:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(\"ODXe\"),a=n(\"q1tI\");function c(){var e=a.useReducer((function(e){return e+1}),0);return Object(r.a)(e,2)[1]}},mr32:function(e,t,n){\"use strict\";var r=n(\"rePB\"),a=n(\"wx14\"),c=n(\"ODXe\"),o=n(\"q1tI\"),i=n(\"TSYQ\"),l=n.n(i),s=n(\"bT9E\"),u=n(\"4i/N\"),f=n(\"H84U\"),m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},d=function(e){var t,n=e.prefixCls,c=e.className,i=e.checked,s=e.onChange,u=e.onClick,d=m(e,[\"prefixCls\",\"className\",\"checked\",\"onChange\",\"onClick\"]),b=(0,o.useContext(f.b).getPrefixCls)(\"tag\",n),p=l()(b,(t={},Object(r.a)(t,\"\".concat(b,\"-checkable\"),!0),Object(r.a)(t,\"\".concat(b,\"-checkable-checked\"),i),t),c);return o.createElement(\"span\",Object(a.a)({},d,{className:p,onClick:function(e){null===s||void 0===s||s(!i),null===u||void 0===u||u(e)}}))},b=n(\"09Wf\"),p=n(\"g0mS\"),_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},N=new RegExp(\"^(\".concat(b.a.join(\"|\"),\")(-inverse)?$\")),v=new RegExp(\"^(\".concat(b.b.join(\"|\"),\")$\")),h=function(e,t){var n,i=e.prefixCls,m=e.className,d=e.style,b=e.children,h=e.icon,O=e.color,y=e.onClose,g=e.closeIcon,j=e.closable,w=void 0!==j&&j,x=_(e,[\"prefixCls\",\"className\",\"style\",\"children\",\"icon\",\"color\",\"onClose\",\"closeIcon\",\"closable\"]),P=o.useContext(f.b),C=P.getPrefixCls,k=P.direction,E=o.useState(!0),S=Object(c.a)(E,2),I=S[0],T=S[1];o.useEffect((function(){\"visible\"in x&&T(x.visible)}),[x.visible]);var D=function(){return!!O&&(N.test(O)||v.test(O))},A=Object(a.a)({backgroundColor:O&&!D()?O:void 0},d),B=D(),R=C(\"tag\",i),q=l()(R,(n={},Object(r.a)(n,\"\".concat(R,\"-\").concat(O),B),Object(r.a)(n,\"\".concat(R,\"-has-color\"),O&&!B),Object(r.a)(n,\"\".concat(R,\"-hidden\"),!I),Object(r.a)(n,\"\".concat(R,\"-rtl\"),\"rtl\"===k),n),m),F=function(e){e.stopPropagation(),null===y||void 0===y||y(e),e.defaultPrevented||\"visible\"in x||T(!1)},G=\"onClick\"in x||b&&\"a\"===b.type,H=Object(s.a)(x,[\"visible\"]),K=h||null,U=K?o.createElement(o.Fragment,null,K,o.createElement(\"span\",null,b)):b,z=o.createElement(\"span\",Object(a.a)({},H,{ref:t,className:q,style:A}),U,w?g?o.createElement(\"span\",{className:\"\".concat(R,\"-close-icon\"),onClick:F},g):o.createElement(u.a,{className:\"\".concat(R,\"-close-icon\"),onClick:F}):null);return G?o.createElement(p.a,null,z):z},O=o.forwardRef(h);O.displayName=\"Tag\",O.CheckableTag=d;t.a=O}},[[\"ZrG8\",0,1,3,4,2,5,7,6,8,9,10,11,13,15,16,17,19,20,22,25,12]]]);","extractedComments":[]}