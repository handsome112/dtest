{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[104],{\"2/Rp\":function(e,t,n){\"use strict\";var r=n(\"zvFY\");t.a=r.b},\"2qu3\":function(e,t,n){\"use strict\";var r=n(\"oI91\"),a=n(\"/GRZ\"),o=n(\"i2R6\");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){var n=\"undefined\"!==typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if(\"string\"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&\"number\"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.__esModule=!0,t.default=void 0;var l,f=(l=n(\"q1tI\"))&&l.__esModule?l:{default:l},d=n(\"8L3h\"),m=n(\"jwwS\");var p=[],b=[],v=!1;function h(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function g(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var a=h(e[r]);a.loading?t.loading=!0:(t.loaded[r]=a.loaded,t.error=a.error),n.push(a.promise),a.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(r){t.error=r}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function O(e,t){return f.default.createElement(function(e){return e&&e.__esModule?e.default:e}(e),t)}function y(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:O,webpack:null,modules:null},t),r=null;function a(){if(!r){var t=new _(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!v&&\"function\"===typeof n.webpack){var o=n.webpack();b.push((function(e){var t,n=i(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(-1!==e.indexOf(r))return a()}}catch(c){n.e(c)}finally{n.f()}}))}var c=function(e,t){a();var o=f.default.useContext(m.LoadableContext),c=(0,d.useSubscription)(r);return f.default.useImperativeHandle(t,(function(){return{retry:r.retry}}),[]),o&&Array.isArray(n.modules)&&n.modules.forEach((function(e){o(e)})),f.default.useMemo((function(){return c.loading||c.error?f.default.createElement(n.loading,{isLoading:c.loading,pastDelay:c.pastDelay,timedOut:c.timedOut,error:c.error,retry:r.retry}):c.loaded?n.render(c.loaded,e):null}),[e,c])};return c.preload=function(){return a()},c.displayName=\"LoadableComponent\",f.default.forwardRef(c)}var _=function(){function e(t,n){a(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return o(e,[{key:\"promise\",value:function(){return this._res.promise}},{key:\"retry\",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&(\"number\"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),\"number\"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(t){e._update({}),e._clearTimeouts()})),this._update({})}},{key:\"_update\",value:function(e){this._state=s(s({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:\"_clearTimeouts\",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:\"getCurrentValue\",value:function(){return this._state}},{key:\"subscribe\",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function j(e){return y(h,e)}function N(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return N(e,t)}))}j.Map=function(e){if(\"function\"!==typeof e.render)throw new Error(\"LoadableMap requires a `render(loaded, props)` function\");return y(g,e)},j.preloadAll=function(){return new Promise((function(e,t){N(p).then(e,t)}))},j.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return v=!0,t()};N(b,e).then(n,n)}))},window.__NEXT_PRELOADREADY=j.preloadReady;var w=j;t.default=w},\"5bA4\":function(e,t,n){\"use strict\";var r=n(\"VTBJ\"),a=n(\"q1tI\"),o={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\"}}]},name:\"left\",theme:\"outlined\"},c=n(\"6VBw\"),s=function(e,t){return a.createElement(c.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName=\"LeftOutlined\";t.a=a.forwardRef(s)},\"5pvF\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(\"1OyB\"),a=n(\"vuIU\"),o=n(\"Ji7U\"),c=n(\"md7G\"),s=n(\"foSv\");function i(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var u=new(function(e){Object(o.a)(n,e);var t=i(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:\"getConversations\",value:function(e){return this.get(this.buildUrl(\"/conversations\",e))}},{key:\"searchConversations\",value:function(e){return this.get(this.buildUrl(\"/conversations/search\",e))}},{key:\"createConversation\",value:function(e){return this.post(\"/conversations\",e)}},{key:\"getConversationDetail\",value:function(e){return this.get(\"/conversations/\".concat(e))}},{key:\"getConversationByStreamId\",value:function(e){return this.get(\"/conversations/stream/\".concat(e))}},{key:\"getMessages\",value:function(e,t){return this.get(this.buildUrl(\"/messages/conversations/\".concat(e),t))}},{key:\"getPublicMessages\",value:function(e,t){return this.get(this.buildUrl(\"/messages/conversations/public/\".concat(e),t))}},{key:\"sendMessage\",value:function(e,t){return this.post(\"/messages/conversations/\".concat(e),t)}},{key:\"sendStreamMessage\",value:function(e,t){return this.post(\"/messages/stream/conversations/\".concat(e),t)}},{key:\"sendPublicStreamMessage\",value:function(e,t){return this.post(\"/messages/stream/public/conversations/\".concat(e),t)}},{key:\"findPublicConversationPerformer\",value:function(e){return this.get(\"/conversations/stream/public/\".concat(e))}},{key:\"countTotalNotRead\",value:function(){return this.get(\"/messages/counting-not-read-messages\")}},{key:\"readAllInConversation\",value:function(e,t){return this.post(\"/messages/read-all\",{conversationId:e,recipientId:t})}},{key:\"getMessageUploadUrl\",value:function(){return\"\".concat(\"https://api.dtest.live\",\"/messages/private/file\")}},{key:\"deleteMessage\",value:function(e){return this.del(\"/messages/\".concat(e))}},{key:\"deleteAllMessageInConversation\",value:function(e){return this.del(\"/messages/\".concat(e,\"/remove-all-message\"))}}]),n}(n(\"/bfT\").a))},Dx9A:function(e,t,n){\"use strict\";var r=n(\"VTBJ\"),a=n(\"q1tI\"),o={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"defs\",attrs:{},children:[{tag:\"style\",attrs:{}}]},{tag:\"path\",attrs:{d:\"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z\"}}]},name:\"send\",theme:\"outlined\"},c=n(\"6VBw\"),s=function(e,t){return a.createElement(c.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName=\"SendOutlined\";t.a=a.forwardRef(s)},KrTs:function(e,t,n){\"use strict\";var r=n(\"rePB\"),a=n(\"U8pU\"),o=n(\"wx14\"),c=n(\"q1tI\"),s=n(\"8XRh\"),i=n(\"TSYQ\"),u=n.n(i),l=n(\"H84U\"),f=n(\"0n0R\"),d=n(\"ODXe\");function m(e){var t,n=e.prefixCls,r=e.value,a=e.current,o=e.offset,s=void 0===o?0:o;return s&&(t={position:\"absolute\",top:\"\".concat(s,\"00%\"),left:0}),c.createElement(\"span\",{style:t,className:u()(\"\".concat(n,\"-only-unit\"),{current:a})},r)}function p(e,t,n){for(var r=e,a=0;(r+10)%10!==t;)r+=n,a+=n;return a}function b(e){var t,n,r=e.prefixCls,a=e.count,s=e.value,i=Number(s),u=Math.abs(a),l=c.useState(i),f=Object(d.a)(l,2),b=f[0],v=f[1],h=c.useState(u),g=Object(d.a)(h,2),O=g[0],y=g[1],_=function(){v(i),y(u)};if(c.useEffect((function(){var e=setTimeout((function(){_()}),1e3);return function(){clearTimeout(e)}}),[i]),b===i||Number.isNaN(i)||Number.isNaN(b))t=[c.createElement(m,Object(o.a)({},e,{key:i,current:!0}))],n={transition:\"none\"};else{t=[];for(var j=i+10,N=[],w=i;w<=j;w+=1)N.push(w);var C=N.findIndex((function(e){return e%10===b}));t=N.map((function(t,n){var r=t%10;return c.createElement(m,Object(o.a)({},e,{key:t,value:r,offset:n-C,current:n===C}))})),n={transform:\"translateY(\".concat(-p(b,i,O<u?1:-1),\"00%)\")}}return c.createElement(\"span\",{className:\"\".concat(r,\"-only\"),style:n,onTransitionEnd:_},t)}var v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},h=function(e){var t=e.prefixCls,n=e.count,r=e.className,a=e.motionClassName,s=e.style,i=e.title,d=e.show,m=e.component,p=void 0===m?\"sup\":m,h=e.children,g=v(e,[\"prefixCls\",\"count\",\"className\",\"motionClassName\",\"style\",\"title\",\"show\",\"component\",\"children\"]),O=(0,c.useContext(l.b).getPrefixCls)(\"scroll-number\",t),y=Object(o.a)(Object(o.a)({},g),{\"data-show\":d,style:s,className:u()(O,r,a),title:i}),_=n;if(n&&Number(n)%1===0){var j=String(n).split(\"\");_=j.map((function(e,t){return c.createElement(b,{prefixCls:O,count:Number(n),value:e,key:j.length-t})}))}return s&&s.borderColor&&(y.style=Object(o.a)(Object(o.a)({},s),{boxShadow:\"0 0 0 1px \".concat(s.borderColor,\" inset\")})),h?Object(f.a)(h,(function(e){return{className:u()(\"\".concat(O,\"-custom-component\"),null===e||void 0===e?void 0:e.className,a)}})):c.createElement(p,y,_)},g=n(\"09Wf\");function O(e){return-1!==g.a.indexOf(e)}var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},_=function(e){var t,n,i=e.prefixCls,d=e.scrollNumberPrefixCls,m=e.children,p=e.status,b=e.text,v=e.color,g=e.count,_=void 0===g?null:g,j=e.overflowCount,N=void 0===j?99:j,w=e.dot,C=void 0!==w&&w,x=e.size,S=void 0===x?\"default\":x,E=e.title,k=e.offset,R=e.style,P=e.className,M=e.showZero,A=void 0!==M&&M,I=y(e,[\"prefixCls\",\"scrollNumberPrefixCls\",\"children\",\"status\",\"text\",\"color\",\"count\",\"overflowCount\",\"dot\",\"size\",\"title\",\"offset\",\"style\",\"className\",\"showZero\"]),T=c.useContext(l.b),D=T.getPrefixCls,B=T.direction,U=D(\"badge\",i),L=_>N?\"\".concat(N,\"+\"):_,z=null!==p&&void 0!==p||null!==v&&void 0!==v,q=\"0\"===L||0===L,F=C&&!q,V=F?\"\":L,H=Object(c.useMemo)((function(){return(null===V||void 0===V||\"\"===V||q&&!A)&&!F}),[V,q,A,F]),G=Object(c.useRef)(_);H||(G.current=_);var J=G.current,X=Object(c.useRef)(V);H||(X.current=V);var K=X.current,W=Object(c.useRef)(F);H||(W.current=F);var Y=Object(c.useMemo)((function(){if(!k)return Object(o.a)({},R);var e={marginTop:k[1]};return\"rtl\"===B?e.left=parseInt(k[0],10):e.right=-parseInt(k[0],10),Object(o.a)(Object(o.a)({},e),R)}),[B,k,R]),Q=null!==E&&void 0!==E?E:\"string\"===typeof J||\"number\"===typeof J?J:void 0,Z=H||!b?null:c.createElement(\"span\",{className:\"\".concat(U,\"-status-text\")},b),$=J&&\"object\"===Object(a.a)(J)?Object(f.a)(J,(function(e){return{style:Object(o.a)(Object(o.a)({},Y),e.style)}})):void 0,ee=u()((t={},Object(r.a)(t,\"\".concat(U,\"-status-dot\"),z),Object(r.a)(t,\"\".concat(U,\"-status-\").concat(p),!!p),Object(r.a)(t,\"\".concat(U,\"-status-\").concat(v),O(v)),t)),te={};v&&!O(v)&&(te.background=v);var ne=u()(U,(n={},Object(r.a)(n,\"\".concat(U,\"-status\"),z),Object(r.a)(n,\"\".concat(U,\"-not-a-wrapper\"),!m),Object(r.a)(n,\"\".concat(U,\"-rtl\"),\"rtl\"===B),n),P);if(!m&&z){var re=Y.color;return c.createElement(\"span\",Object(o.a)({},I,{className:ne,style:Y}),c.createElement(\"span\",{className:ee,style:te}),c.createElement(\"span\",{style:{color:re},className:\"\".concat(U,\"-status-text\")},b))}return c.createElement(\"span\",Object(o.a)({},I,{className:ne}),m,c.createElement(s.default,{visible:!H,motionName:\"\".concat(U,\"-zoom\"),motionAppear:!1},(function(e){var t,n=e.className,a=D(\"scroll-number\",d),s=W.current,i=u()((t={},Object(r.a)(t,\"\".concat(U,\"-dot\"),s),Object(r.a)(t,\"\".concat(U,\"-count\"),!s),Object(r.a)(t,\"\".concat(U,\"-count-sm\"),\"small\"===S),Object(r.a)(t,\"\".concat(U,\"-multiple-words\"),!s&&K&&K.toString().length>1),Object(r.a)(t,\"\".concat(U,\"-status-\").concat(p),!!p),Object(r.a)(t,\"\".concat(U,\"-status-\").concat(v),O(v)),t)),l=Object(o.a)({},Y);return v&&!O(v)&&((l=l||{}).background=v),c.createElement(h,{prefixCls:a,show:!H,motionClassName:n,className:i,count:K,title:Q,style:l,key:\"scrollNumber\"},$)})),Z)};_.Ribbon=function(e){var t,n=e.className,a=e.prefixCls,s=e.style,i=e.color,f=e.children,d=e.text,m=e.placement,p=void 0===m?\"end\":m,b=c.useContext(l.b),v=b.getPrefixCls,h=b.direction,g=v(\"ribbon\",a),y=O(i),_=u()(g,\"\".concat(g,\"-placement-\").concat(p),(t={},Object(r.a)(t,\"\".concat(g,\"-rtl\"),\"rtl\"===h),Object(r.a)(t,\"\".concat(g,\"-color-\").concat(i),y),t),n),j={},N={};return i&&!y&&(j.background=i,N.color=i),c.createElement(\"div\",{className:\"\".concat(g,\"-wrapper\")},f,c.createElement(\"div\",{className:_,style:Object(o.a)(Object(o.a)({},j),s)},c.createElement(\"span\",{className:\"\".concat(g,\"-text\")},d),c.createElement(\"div\",{className:\"\".concat(g,\"-corner\"),style:N})))};t.a=_},\"LLt/\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var r=n(\"1OyB\"),a=n(\"vuIU\"),o=n(\"Ji7U\"),c=n(\"md7G\"),s=n(\"foSv\"),i=n(\"p46w\"),u=n.n(i),l=n(\"/bfT\");function f(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var d=new(function(e){Object(o.a)(n,e);var t=f(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:\"login\",value:function(e){return this.post(\"/auth/users/login\",e)}},{key:\"setAuthHeader\",value:function(e,t){u.a.set(l.f,e,{expires:365}),u.a.set(l.c,t,{expires:365}),this.setAuthHeaderToken(e)}},{key:\"performerLogin\",value:function(e){return this.post(\"/auth/performers/login\",e)}},{key:\"studioLogin\",value:function(e){return this.post(\"/auth/studio/login\",e)}},{key:\"setToken\",value:function(e){u.a.set(l.f,e,{expires:365}),this.setAuthHeaderToken(e)}},{key:\"getToken\",value:function(){return u.a.get(l.f)||null}},{key:\"getRole\",value:function(){return u.a.get(l.c)||null}},{key:\"removeToken\",value:function(){u.a.remove(l.f),u.a.remove(l.c)}},{key:\"removeRemember\",value:function(){u.a.remove(\"rememberMe\")}},{key:\"updatePassword\",value:function(e){return this.put(\"/auth/users/me/password\",e)}},{key:\"performersRegister\",value:function(e){return this.register(\"/auth/performers/register\",e)}},{key:\"userRegister\",value:function(e){return this.post(\"/auth/users/register\",e)}},{key:\"studioRegister\",value:function(e){return this.register(\"/auth/studio/register\",e)}},{key:\"forgotPassword\",value:function(e,t){var n={email:e,type:t};return this.post(\"/auth/users/forgot\",n)}},{key:\"resendVerificationEmail\",value:function(e){return this.post(\"/verification/resend-verification-email\",e)}}]),n}(l.a))},Ol7k:function(e,t,n){\"use strict\";var r=n(\"PKem\"),a=n(\"ZX9x\"),o=r.e;o.Header=r.c,o.Footer=r.b,o.Content=r.a,o.Sider=a.b,t.a=o},PKem:function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return d})),n.d(t,\"c\",(function(){return v})),n.d(t,\"b\",(function(){return h})),n.d(t,\"a\",(function(){return g}));var r=n(\"KQm4\"),a=n(\"rePB\"),o=n(\"ODXe\"),c=n(\"wx14\"),s=n(\"q1tI\"),i=n(\"TSYQ\"),u=n.n(i),l=n(\"H84U\"),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},d=s.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function m(e){var t=e.suffixCls,n=e.tagName,r=e.displayName;return function(e){var a=function(r){var a=s.useContext(l.b).getPrefixCls,o=r.prefixCls,i=a(t,o);return s.createElement(e,Object(c.a)({prefixCls:i,tagName:n},r))};return a.displayName=r,a}}var p=function(e){var t=e.prefixCls,n=e.className,r=e.children,a=e.tagName,o=f(e,[\"prefixCls\",\"className\",\"children\",\"tagName\"]),i=u()(t,n);return s.createElement(a,Object(c.a)({className:i},o),r)},b=m({suffixCls:\"layout\",tagName:\"section\",displayName:\"Layout\"})((function(e){var t,n=s.useContext(l.b).direction,i=s.useState([]),m=Object(o.a)(i,2),p=m[0],b=m[1],v=e.prefixCls,h=e.className,g=e.children,O=e.hasSider,y=e.tagName,_=f(e,[\"prefixCls\",\"className\",\"children\",\"hasSider\",\"tagName\"]),j=u()(v,(t={},Object(a.a)(t,\"\".concat(v,\"-has-sider\"),\"boolean\"===typeof O?O:p.length>0),Object(a.a)(t,\"\".concat(v,\"-rtl\"),\"rtl\"===n),t),h);return s.createElement(d.Provider,{value:{siderHook:{addSider:function(e){b((function(t){return[].concat(Object(r.a)(t),[e])}))},removeSider:function(e){b((function(t){return t.filter((function(t){return t!==e}))}))}}}},s.createElement(y,Object(c.a)({className:j},_),g))})),v=m({suffixCls:\"layout-header\",tagName:\"header\",displayName:\"Header\"})(p),h=m({suffixCls:\"layout-footer\",tagName:\"footer\",displayName:\"Footer\"})(p),g=m({suffixCls:\"layout-content\",tagName:\"main\",displayName:\"Content\"})(p);t.e=b},UESt:function(e,t,n){\"use strict\";var r=n(\"VTBJ\"),a=n(\"q1tI\"),o={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\"}}]},name:\"right\",theme:\"outlined\"},c=n(\"6VBw\"),s=function(e,t){return a.createElement(c.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName=\"RightOutlined\";t.a=a.forwardRef(s)},ZX9x:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return j}));var r=n(\"rePB\"),a=n(\"wx14\"),o=n(\"ODXe\"),c=n(\"q1tI\"),s=n(\"TSYQ\"),i=n.n(s),u=n(\"bT9E\"),l=n(\"VTBJ\"),f={icon:{tag:\"svg\",attrs:{viewBox:\"0 0 1024 1024\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z\"}}]},name:\"bars\",theme:\"outlined\"},d=n(\"6VBw\"),m=function(e,t){return c.createElement(d.a,Object(l.a)(Object(l.a)({},e),{},{ref:t,icon:f}))};m.displayName=\"BarsOutlined\";var p=c.forwardRef(m),b=n(\"UESt\"),v=n(\"5bA4\"),h=n(\"PKem\"),g=n(\"H84U\"),O=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},_={xs:\"479.98px\",sm:\"575.98px\",md:\"767.98px\",lg:\"991.98px\",xl:\"1199.98px\",xxl:\"1599.98px\"},j=c.createContext({}),N=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return e+=1,\"\".concat(t).concat(e)}}(),w=c.forwardRef((function(e,t){var n=e.prefixCls,s=e.className,l=e.trigger,f=e.children,d=e.defaultCollapsed,m=void 0!==d&&d,w=e.theme,C=void 0===w?\"dark\":w,x=e.style,S=void 0===x?{}:x,E=e.collapsible,k=void 0!==E&&E,R=e.reverseArrow,P=void 0!==R&&R,M=e.width,A=void 0===M?200:M,I=e.collapsedWidth,T=void 0===I?80:I,D=e.zeroWidthTriggerStyle,B=e.breakpoint,U=e.onCollapse,L=e.onBreakpoint,z=y(e,[\"prefixCls\",\"className\",\"trigger\",\"children\",\"defaultCollapsed\",\"theme\",\"style\",\"collapsible\",\"reverseArrow\",\"width\",\"collapsedWidth\",\"zeroWidthTriggerStyle\",\"breakpoint\",\"onCollapse\",\"onBreakpoint\"]),q=Object(c.useContext)(h.d).siderHook,F=Object(c.useState)(\"collapsed\"in z?z.collapsed:m),V=Object(o.a)(F,2),H=V[0],G=V[1],J=Object(c.useState)(!1),X=Object(o.a)(J,2),K=X[0],W=X[1];Object(c.useEffect)((function(){\"collapsed\"in z&&G(z.collapsed)}),[z.collapsed]);var Y=function(e,t){\"collapsed\"in z||G(e),null===U||void 0===U||U(e,t)},Q=Object(c.useRef)();Q.current=function(e){W(e.matches),null===L||void 0===L||L(e.matches),H!==e.matches&&Y(e.matches,\"responsive\")},Object(c.useEffect)((function(){function e(e){return Q.current(e)}var t;if(\"undefined\"!==typeof window){var n=window.matchMedia;if(n&&B&&B in _){t=n(\"(max-width: \".concat(_[B],\")\"));try{t.addEventListener(\"change\",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener(\"change\",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[]),Object(c.useEffect)((function(){var e=N(\"ant-sider-\");return q.addSider(e),function(){return q.removeSider(e)}}),[]);var Z=function(){Y(!H,\"clickTrigger\")},$=Object(c.useContext)(g.b).getPrefixCls;return c.createElement(j.Provider,{value:{siderCollapsed:H}},function(){var e,o=$(\"layout-sider\",n),d=Object(u.a)(z,[\"collapsed\"]),m=H?T:A,h=O(m)?\"\".concat(m,\"px\"):String(m),g=0===parseFloat(String(T||0))?c.createElement(\"span\",{onClick:Z,className:i()(\"\".concat(o,\"-zero-width-trigger\"),\"\".concat(o,\"-zero-width-trigger-\").concat(P?\"right\":\"left\")),style:D},l||c.createElement(p,null)):null,y={expanded:P?c.createElement(b.a,null):c.createElement(v.a,null),collapsed:P?c.createElement(v.a,null):c.createElement(b.a,null)}[H?\"collapsed\":\"expanded\"],_=null!==l?g||c.createElement(\"div\",{className:\"\".concat(o,\"-trigger\"),onClick:Z,style:{width:h}},l||y):null,j=Object(a.a)(Object(a.a)({},S),{flex:\"0 0 \".concat(h),maxWidth:h,minWidth:h,width:h}),N=i()(o,\"\".concat(o,\"-\").concat(C),(e={},Object(r.a)(e,\"\".concat(o,\"-collapsed\"),!!H),Object(r.a)(e,\"\".concat(o,\"-has-trigger\"),k&&null!==l&&!g),Object(r.a)(e,\"\".concat(o,\"-below\"),!!K),Object(r.a)(e,\"\".concat(o,\"-zero-width\"),0===parseFloat(h)),e),s);return c.createElement(\"aside\",Object(a.a)({className:N},d,{style:j,ref:t}),c.createElement(\"div\",{className:\"\".concat(o,\"-children\")},f),k||K&&g?_:null)}())}));w.displayName=\"Sider\";t.b=w},a6RD:function(e,t,n){\"use strict\";var r=n(\"oI91\");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.__esModule=!0,t.noSSR=i,t.default=function(e,t){var n=c.default,r={loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};e instanceof Promise?r.loader=function(){return e}:\"function\"===typeof e?r.loader=e:\"object\"===typeof e&&(r=o(o({},r),e));if(r=o(o({},r),t),\"object\"===typeof e&&!(e instanceof Promise)&&(e.render&&(r.render=function(t,n){return e.render(n,t)}),e.modules)){n=c.default.Map;var a={},s=e.modules();Object.keys(s).forEach((function(e){var t=s[e];\"function\"!==typeof t.then?a[e]=t:a[e]=function(){return t.then((function(e){return e.default||e}))}})),r.loader=a}r.loadableGenerated&&delete(r=o(o({},r),r.loadableGenerated)).loadableGenerated;if(\"boolean\"===typeof r.ssr){if(!r.ssr)return delete r.ssr,i(n,r);delete r.ssr}return n(r)};s(n(\"q1tI\"));var c=s(n(\"2qu3\"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return delete t.webpack,delete t.modules,e(t)}},cJ20:function(e,t,n){\"use strict\";n.r(t);var r=n(\"1OyB\"),a=n(\"vuIU\"),o=n(\"Ji7U\"),c=n(\"md7G\"),s=n(\"foSv\"),i=n(\"rePB\"),u=n(\"q1tI\"),l=n.n(u),f=n(\"Ol7k\"),d=n(\"/MKj\"),m=n(\"8Kt/\"),p=n.n(m),b=(n(\"OVUx\"),n(\"wqbU\")),v=n(\"2/Rp\"),h=n(\"o0o1\"),g=n.n(h),O=n(\"HaE+\"),y=n(\"JX7q\"),_=(n(\"od0E\"),n(\"AY7M\")),j=n(\"LvDl\"),N=n(\"5pvF\"),w=(n(\"jcEp\"),\"/var/www/dtest.live/src/components/messages/ConversationSearch.tsx\"),C=l.a.createElement;function x(e){var t=e.onSearch;return C(\"div\",{className:\"conversation-search\",__self:this,__source:{fileName:w,lineNumber:6,columnNumber:5}},C(\"input\",{onChange:t,type:\"search\",className:\"conversation-search-input\",placeholder:\"Search conversation...\",__self:this,__source:{fileName:w,lineNumber:7,columnNumber:7}}))}var S=n(\"KrTs\"),E=n(\"wd/R\"),k=n.n(E),R=(n(\"oYE4\"),\"/var/www/dtest.live/src/components/messages/ConversationListItem.tsx\"),P=l.a.createElement;function M(e){var t=e.setActive,n=e.selected,r=e.data,a=r.recipientInfo,o=r.lastMessage,c=r._id,s=r.updatedAt,i=r.lastMessageCreatedAt,u=r.totalNotSeenMessages,l=void 0===u?0:u;return P(\"div\",{\"aria-hidden\":\"true\",className:n?\"conversation-list-item active\":\"conversation-list-item\",onClick:function(){return t(c)},__self:this,__source:{fileName:R,lineNumber:23,columnNumber:5}},P(\"div\",{className:\"conversation-left-corner\",__self:this,__source:{fileName:R,lineNumber:28,columnNumber:7}},P(\"img\",{className:\"conversation-photo\",src:(null===a||void 0===a?void 0:a.avatar)||\"/default-user-icon.png\",alt:\"conversation\",__self:this,__source:{fileName:R,lineNumber:29,columnNumber:9}})),P(\"div\",{className:\"conversation-info\",__self:this,__source:{fileName:R,lineNumber:31,columnNumber:7}},P(\"h1\",{className:\"conversation-title\",__self:this,__source:{fileName:R,lineNumber:32,columnNumber:9}},(null===a||void 0===a?void 0:a.username)||\"N/A\"),P(\"p\",{className:\"conversation-snippet\",__self:this,__source:{fileName:R,lineNumber:33,columnNumber:9}},o),P(\"p\",{className:\"conversation-time\",__self:this,__source:{fileName:R,lineNumber:34,columnNumber:9}},k()(i||s).fromNow())),P(S.a,{className:\"notification-badge\",count:l,__self:this,__source:{fileName:R,lineNumber:36,columnNumber:7}}))}var A=\"/var/www/dtest.live/src/components/messages/ConversationList.tsx\",I=l.a.createElement;function T(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var D,B=function(e){Object(o.a)(n,e);var t=T(n);function n(e){var a;return Object(r.a)(this,n),a=t.call(this,e),Object(i.a)(Object(y.a)(a),\"conversationsRef\",void 0),Object(i.a)(Object(y.a)(a),\"state\",{conversationPage:1,keyword:\"\"}),Object(i.a)(Object(y.a)(a),\"onMessage\",function(){var e=Object(O.a)(g.a.mark((function e(t){var n,r,o,c,s,i,u,l,f,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt(\"return\");case 2:return n=a.props,r=n.conversation,o=n.currentPerformer,c=n.currentUser,s=n.getConversationDetail,i=n.receiveMessageSuccess,u=n.updateLastMessage,l=r.mapping,f=t.conversationId,d=t.text,l[t.conversationId]||s({id:t.conversationId}),i(t),u({conversationId:f,lastMessage:d}),e.next=10,N.a.readAllInConversation(f,c._id?c._id:o._id);case 10:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(i.a)(Object(y.a)(a),\"onSearchConversation\",Object(j.debounce)(function(){var e=Object(O.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,r=a.props.searchConversations,e.next=4,a.setState({keyword:n,conversationPage:0});case 4:if(!n){e.next=6;break}return e.abrupt(\"return\",r({keyword:n,limit:25,offset:0,type:\"private\"}));case 6:return e.abrupt(\"return\",r({limit:25,offset:0,type:\"private\"}));case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),500)),Object(i.a)(Object(y.a)(a),\"handleScroll\",function(){var e=Object(O.a)(g.a.mark((function e(t){var n,r,o,c,s,i,u,l,f,d,m,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.conversation,o=n.getConversations,c=r.list,s=c.requesting,i=c.data,u=c.total,l=a.state,f=l.conversationPage,d=l.keyword,m=u>i.length,p=t.target,m){e.next=7;break}return e.abrupt(\"return\");case 7:p.scrollHeight-p.scrollTop===p.clientHeight&&!s&&m&&a.setState({conversationPage:f+1},(function(){o({keyword:d,limit:25,offset:25*f,type:\"private\"})}));case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(i.a)(Object(y.a)(a),\"setActive\",(function(e){var t=a.props,n=t.setActiveConversation,r=t.currentPerformer,o=t.currentUser;n({conversationId:e,recipientId:o._id?o._id:r._id})})),a}return Object(a.a)(n,[{key:\"componentDidMount\",value:function(){var e=Object(O.a)(g.a.mark((function e(){var t,n,r,a,o,c,s,i,l,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.conversationsRef||(this.conversationsRef=Object(u.createRef)()),t=this.props,n=t.getConversations,r=t.setActiveConversation,a=t.toSource,o=t.toId,c=t.currentUser,s=t.currentPerformer,i=this.state,l=i.conversationPage,f=i.keyword,n({limit:25,offset:25*l,type:\"private\",keyword:f}),a&&o&&setTimeout((function(){r({source:a,sourceId:o,recipientId:c._id?c._id:s._id})}),1e3);case 5:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this,t=this.props.conversation,n=t.list,r=n.data,a=n.requesting,o=t.mapping,c=t.activeConversation,s=void 0===c?{}:c;return this.conversationsRef||(this.conversationsRef=Object(u.createRef)()),I(\"div\",{className:\"conversation-list\",ref:this.conversationsRef,onScroll:this.handleScroll.bind(this),__self:this,__source:{fileName:A,lineNumber:154,columnNumber:7}},I(_.a,{event:\"message_created\",handler:this.onMessage,__self:this,__source:{fileName:A,lineNumber:155,columnNumber:9}}),I(\"h4\",{className:\"text-center\",style:{fontSize:\"22px\"},__self:this,__source:{fileName:A,lineNumber:156,columnNumber:9}},\"Messenger\"),I(x,{onSearch:function(t){t.persist(),e.onSearchConversation(t)},__self:this,__source:{fileName:A,lineNumber:157,columnNumber:9}}),r.length>0&&r.map((function(t){return I(M,{key:t,data:o[t],setActive:e.setActive.bind(e),selected:s._id===t,__self:e,__source:{fileName:A,lineNumber:165,columnNumber:13}})})),a&&I(\"div\",{className:\"text-center\",__self:this,__source:{fileName:A,lineNumber:173,columnNumber:9}},I(\"img\",{alt:\"loading\",src:\"/loading-ico.gif\",width:\"50px\",__self:this,__source:{fileName:A,lineNumber:174,columnNumber:11}})),!a&&!r.length&&I(\"p\",{className:\"text-center\",__self:this,__source:{fileName:A,lineNumber:177,columnNumber:50}},\"No conversation found.\"))}}]),n}(u.PureComponent),U={searchConversations:b.r,getConversations:b.f,setActiveConversation:b.y,getConversationDetail:b.d,receiveMessageSuccess:b.p,updateLastMessage:b.B},L=Object(d.b)((function(e){return{conversation:e.conversation,message:e.message,currentUser:e.user.current,currentPerformer:e.performer.current}}),U)(B),z=(n(\"UTbA\"),n(\"Dx9A\")),q=n(\"5rEg\"),F=n(\"a6RD\"),V=n.n(F),H=(n(\"qMfs\"),l.a.createElement);function G(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}D=V()((function(){return n.e(51).then(n.t.bind(null,\"x/1y\",7))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"x/1y\"]},modules:[\"emoji-picker-react\"]}});var J=function(e){Object(o.a)(n,e);var t=G(n);function n(e){var a;return Object(r.a)(this,n),a=t.call(this,e),Object(i.a)(Object(y.a)(a),\"uploadRef\",void 0),a.uploadRef=l.a.createRef(),a}return Object(a.a)(n,[{key:\"onEmojiClick\",value:function(e,t){var n=this.props.onEmojiClick;n(t)}},{key:\"render\",value:function(){return H(l.a.Fragment,null,H(D,{onEmojiClick:this.onEmojiClick.bind(this),disableAutoFocus:!0,disableSearchBar:!0,disableSkinTonePicker:!0,__self:this,__source:{fileName:\"/var/www/dtest.live/src/components/messages/emotions.tsx\",lineNumber:30,columnNumber:9}}))}}]),n}(u.PureComponent),X=\"/var/www/dtest.live/src/components/messages/Compose.tsx\",K=l.a.createElement;function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Z=function(e){Object(o.a)(n,e);var t=Q(n);function n(e){var a;return Object(r.a)(this,n),a=t.call(this,e),Object(i.a)(Object(y.a)(a),\"uploadRef\",void 0),Object(i.a)(Object(y.a)(a),\"_input\",void 0),Object(i.a)(Object(y.a)(a),\"state\",{text:\"\"}),Object(i.a)(Object(y.a)(a),\"onKeyDown\",(function(e){13===e.keyCode&&a.send()})),Object(i.a)(Object(y.a)(a),\"onChange\",(function(e){a.setState({text:e.target.value})})),Object(i.a)(Object(y.a)(a),\"onEmojiClick\",(function(e){var t=a.state.text;a.setMessage(t+e.emoji)})),Object(i.a)(Object(y.a)(a),\"onPhotoUploaded\",(function(e){var t=a.props.sentFileSuccess;if(e&&e.response){var n=e.response.data&&e.response.data.imageUrl||e.base64;t(Y(Y({},e.response.data),{imageUrl:n}))}})),a.uploadRef=l.a.createRef(),a}return Object(a.a)(n,[{key:\"componentDidMount\",value:function(){this.uploadRef||(this.uploadRef=l.a.createRef()),this._input||(this._input=l.a.createRef())}},{key:\"componentDidUpdate\",value:function(e){this.props.sendMessageStatus.success!==e.sendMessageStatus.success&&(this.setMessage(\"\"),this._input&&this._input.focus())}},{key:\"setMessage\",value:function(e){this.setState({text:e})}},{key:\"send\",value:function(){var e=this.state.text;if(e){var t=this.props,n=t.conversation;(0,t.sendMessage)({conversationId:n._id,data:{text:e}})}}},{key:\"render\",value:function(){var e=this,t=this.state.text,n=this.props,r=n.sendMessageStatus,a=n.conversation;return this.uploadRef||(this.uploadRef=l.a.createRef()),this._input||(this._input=l.a.createRef()),K(\"div\",{className:\"compose\",__self:this,__source:{fileName:X,lineNumber:94,columnNumber:7}},K(q.a,{value:t,className:\"compose-input\",placeholder:\"Type a message\",onKeyDown:this.onKeyDown,onChange:this.onChange,disabled:r.sending||!a._id,ref:function(t){return e._input=t},__self:this,__source:{fileName:X,lineNumber:95,columnNumber:9}}),K(\"div\",{className:\"grp-icons\",__self:this,__source:{fileName:X,lineNumber:104,columnNumber:9}},K(z.a,{onClick:this.send.bind(this),disabled:r.sending,style:{fontSize:\"25px\",marginRight:\"10px\",color:\"#fe26b3\"},__self:this,__source:{fileName:X,lineNumber:105,columnNumber:11}}),K(\"div\",{className:\"grp-emotions\",__self:this,__source:{fileName:X,lineNumber:106,columnNumber:11}},K(\"img\",{src:\"/emotion-ico.png\",width:\"25px\",alt:\"\",__self:this,__source:{fileName:X,lineNumber:107,columnNumber:13}}),K(J,{onEmojiClick:this.onEmojiClick.bind(this),__self:this,__source:{fileName:X,lineNumber:108,columnNumber:13}}))))}}]),n}(u.PureComponent),$={sendMessage:b.u,sentFileSuccess:b.x},ee=Object(d.b)((function(e){return{sendMessageStatus:e.message.sendMessage,currentUser:e.user.current}}),$)(Z),te=(n(\"iZf9\"),\"/var/www/dtest.live/src/components/messages/Message.tsx\"),ne=l.a.createElement;function re(e){var t=e.data,n=e.isMine,r=e.startsSequence,a=e.endsSequence,o=e.showTimestamp,c=k()(t.createdAt).format(\"LLLL\");return ne(\"div\",{className:[\"message\",\"\".concat(n?\"mine\":\"\"),\"\".concat(r?\"start\":\"\"),\"\".concat(a?\"end\":\"\")].join(\" \"),__self:this,__source:{fileName:te,lineNumber:20,columnNumber:5}},t.text&&ne(\"div\",{className:\"bubble-container\",__self:this,__source:{fileName:te,lineNumber:29,columnNumber:7}},ne(\"div\",{className:\"bubble\",title:c,__self:this,__source:{fileName:te,lineNumber:30,columnNumber:9}},!t.imageUrl&&t.text,\" \",t.imageUrl&&ne(\"a\",{title:\"Click to view full content\",href:t.imageUrl,target:\"_blank\",rel:\"noreferrer\",__self:this,__source:{fileName:te,lineNumber:34,columnNumber:11}},ne(\"img\",{src:t.imageUrl,width:\"180px\",alt:\"\",__self:this,__source:{fileName:te,lineNumber:40,columnNumber:13}})))),o&&ne(\"div\",{className:\"timestamp\",__self:this,__source:{fileName:te,lineNumber:50,columnNumber:25}},c))}var ae=\"/var/www/dtest.live/src/components/messages/MessageList.tsx\",oe=l.a.createElement;function ce(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var se=function(e){Object(o.a)(n,e);var t=ce(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),Object(i.a)(Object(y.a)(e),\"messagesRef\",void 0),Object(i.a)(Object(y.a)(e),\"state\",{offset:1,onloadmore:!1}),Object(i.a)(Object(y.a)(e),\"renderMessages\",(function(){for(var t=e.props,n=t.message,r=t.currentUser,a=t.currentPerformer,o=n.items,c=0,s=o.length,i=[];c<s;){var u=o[c-1],l=o[c],f=o[c+1],d=l.senderId===(r&&r._id||a&&a._id),m=k()(l.createdAt),p=!0,b=!0,v=!0;if(u){var h=k()(u.createdAt),g=k.a.duration(m.diff(h));u.senderId===l.senderId&&g.as(\"hours\")<1&&(p=!1),g.as(\"hours\")<1&&(v=!1)}if(f){var O=k()(f.createdAt),_=k.a.duration(O.diff(m));f.senderId===l.senderId&&_.as(\"hours\")<1&&(b=!1)}l._id&&i.push(oe(re,{key:c,isMine:d,startsSequence:p,endsSequence:b,showTimestamp:v,data:l,__self:Object(y.a)(e),__source:{fileName:ae,lineNumber:109,columnNumber:11}})),c+=1}return e.scrollToBottom(),i})),e}return Object(a.a)(n,[{key:\"componentDidMount\",value:function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.messagesRef||(this.messagesRef=Object(u.createRef)());case 1:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"componentDidUpdate\",value:function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props.conversation,t&&t.conversation&&t.conversation._id!==n._id&&this.setOffset();case 2:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"handleScroll\",value:function(){var e=Object(O.a)(g.a.mark((function e(t,n){var r,a,o,c,s,i,u,l,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,a=r.message,o=r.loadMoreMessages,c=a.fetching,s=a.items,i=a.total,u=this.state.offset,l=i>s.length,f=n.target,l){e.next=7;break}return e.abrupt(\"return\");case 7:if(0!==f.scrollTop||!t._id||c||!l){e.next=11;break}return e.next=10,this.setState({offset:u+1,onloadmore:!0});case 10:o({conversationId:t._id,limit:20,offset:20*(u-1)});case 11:case\"end\":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"setOffset\",value:function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({offset:1});case 1:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"scrollToBottom\",value:function(){if(!this.state.onloadmore&&this.messagesRef&&this.messagesRef.current){var e=this.messagesRef.current;window.setTimeout((function(){e.scrollTop=e.scrollHeight}),300)}}},{key:\"render\",value:function(){var e=this.props,t=e.conversation,n=e.message.fetching;return this.messagesRef||(this.messagesRef=Object(u.createRef)()),oe(\"div\",{className:\"message-list custom\",__self:this,__source:{fileName:ae,lineNumber:144,columnNumber:7}},t&&t._id?oe(l.a.Fragment,null,oe(\"div\",{className:\"message-list-container\",ref:this.messagesRef,onScroll:this.handleScroll.bind(this,t),__self:this,__source:{fileName:ae,lineNumber:147,columnNumber:13}},n&&oe(\"p\",{className:\"text-center\",__self:this,__source:{fileName:ae,lineNumber:152,columnNumber:28}},\"fetching...\"),this.renderMessages()),oe(ee,{conversation:t,__self:this,__source:{fileName:ae,lineNumber:156,columnNumber:13}})):oe(\"div\",{className:\"start-conversation\",__self:this,__source:{fileName:ae,lineNumber:159,columnNumber:11}},oe(\"p\",{__self:this,__source:{fileName:ae,lineNumber:160,columnNumber:13}},\"Click conversation to start\")))}}]),n}(u.PureComponent),ie={loadMoreMessages:b.l},ue=Object(d.b)((function(e){var t=e.message.conversationMap,n=e.conversation.activeConversation;return{message:{items:t[n._id]&&t[n._id].items||[],total:t[n._id]&&t[n._id].total||0,fetching:t[n._id]&&t[n._id].fetching||!1},conversation:n,currentUser:e.user.current,currentPerformer:e.performer.current}}),ie)(se),le=\"/var/www/dtest.live/src/components/messages/Messenger.tsx\",fe=l.a.createElement;function de(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var me=function(e){Object(o.a)(n,e);var t=de(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:\"onClose\",value:function(){(0,this.props.deactiveConversation)()}},{key:\"render\",value:function(){var e=this.props,t=e.toSource,n=e.toId,r=e.activeConversation;return fe(\"div\",{className:\"messenger\",__self:this,__source:{fileName:le,lineNumber:24,columnNumber:7}},fe(\"div\",{className:r._id?\"sidebar active\":\"sidebar\",__self:this,__source:{fileName:le,lineNumber:25,columnNumber:9}},fe(L,{toSource:t,toId:n,__self:this,__source:{fileName:le,lineNumber:26,columnNumber:11}})),fe(\"div\",{className:r._id?\"chat-content active\":\"chat-content\",__self:this,__source:{fileName:le,lineNumber:28,columnNumber:9}},fe(v.a,{onClick:this.onClose.bind(this),className:\"close-btn\",__self:this,__source:{fileName:le,lineNumber:29,columnNumber:11}},\"close\"),fe(ue,{__self:this,__source:{fileName:le,lineNumber:30,columnNumber:11}})))}}]),n}(u.PureComponent),pe={deactiveConversation:b.b},be=Object(d.b)((function(e){return{activeConversation:e.conversation.activeConversation}}),pe)(me),ve=\"/var/www/dtest.live/pages/messages/index.tsx\",he=l.a.createElement;function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var _e=f.a.Content,je=function(e){Object(o.a)(n,e);var t=ye(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:\"componentWillUnmount\",value:function(){(0,this.props.resetMessageState)()}},{key:\"render\",value:function(){var e=this.props.query,t=void 0===e?{}:e;return he(l.a.Fragment,null,he(p.a,{__self:this,__source:{fileName:ve,lineNumber:38,columnNumber:9}},he(\"title\",{__self:this,__source:{fileName:ve,lineNumber:39,columnNumber:11}},\"Messages\")),he(f.a,{__self:this,__source:{fileName:ve,lineNumber:43,columnNumber:9}},he(_e,{__self:this,__source:{fileName:ve,lineNumber:44,columnNumber:11}},he(\"div\",{className:\"main-container\",__self:this,__source:{fileName:ve,lineNumber:45,columnNumber:13}},he(be,{toSource:t.toSource,toId:t.toId,__self:this,__source:{fileName:ve,lineNumber:46,columnNumber:15}})))))}}],[{key:\"getInitialProps\",value:function(e){return{query:e.ctx.query}}}]),n}(u.PureComponent);Object(i.a)(je,\"authenticate\",!0),Object(i.a)(je,\"layout\",\"primary\");var Ne={resetMessageState:b.q};t.default=Object(d.b)((function(e){return{ui:Oe({},e.ui)}}),Ne)(je)},dwQ6:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/messages\",function(){return n(\"cJ20\")}])},jwwS:function(e,t,n){\"use strict\";var r;t.__esModule=!0,t.LoadableContext=void 0;var a=((r=n(\"q1tI\"))&&r.__esModule?r:{default:r}).default.createContext(null);t.LoadableContext=a},\"l+S1\":function(e,t,n){\"use strict\";var r=n(\"VTBJ\"),a=n(\"q1tI\"),o={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\"}}]},name:\"search\",theme:\"outlined\"},c=n(\"6VBw\"),s=function(e,t){return a.createElement(c.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName=\"SearchOutlined\";t.a=a.forwardRef(s)},wqbU:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return o})),n.d(t,\"h\",(function(){return c})),n.d(t,\"g\",(function(){return s})),n.d(t,\"r\",(function(){return u})),n.d(t,\"t\",(function(){return l})),n.d(t,\"s\",(function(){return f})),n.d(t,\"o\",(function(){return d})),n.d(t,\"u\",(function(){return p})),n.d(t,\"w\",(function(){return b})),n.d(t,\"v\",(function(){return v})),n.d(t,\"p\",(function(){return h})),n.d(t,\"x\",(function(){return g})),n.d(t,\"b\",(function(){return O})),n.d(t,\"B\",(function(){return y})),n.d(t,\"y\",(function(){return j})),n.d(t,\"A\",(function(){return N})),n.d(t,\"z\",(function(){return w})),n.d(t,\"i\",(function(){return x})),n.d(t,\"k\",(function(){return S})),n.d(t,\"j\",(function(){return E})),n.d(t,\"l\",(function(){return R})),n.d(t,\"n\",(function(){return P})),n.d(t,\"m\",(function(){return M})),n.d(t,\"c\",(function(){return A})),n.d(t,\"q\",(function(){return I})),n.d(t,\"d\",(function(){return D})),n.d(t,\"e\",(function(){return B})),n.d(t,\"a\",(function(){return U}));var r=n(\"vo7w\"),a=Object(r.b)(\"getConversations\",\"LOAD_CONVERSATIONS\"),o=a.getConversations,c=a.getConversationsSuccess,s=a.getConversationsFail,i=Object(r.b)(\"searchConversations\",\"SEARCH_CONVERSATIONS\"),u=i.searchConversations,l=i.searchConversationsSuccess,f=i.searchConversationsFail,d=Object(r.b)(\"readMessages\",\"READ_MESSAGES\").readMessages,m=Object(r.b)(\"sendMessage\",\"SEND_MESSAGE\"),p=m.sendMessage,b=m.sendMessageSuccess,v=m.sendMessageFail,h=Object(r.b)(\"receiveMessageSuccess\",\"RECEIVE_MESSAGE_SUCCESS\").receiveMessageSuccess,g=Object(r.b)(\"sentFileSuccess\",\"SENT_FILE_SUCCESS\").sentFileSuccess,O=Object(r.b)(\"deactiveConversation\",\"DEACTIVE_CONVERSATION\").deactiveConversation,y=Object(r.a)(\"updateLastMessage\"),_=Object(r.b)(\"setActiveConversation\",\"SET_ACTIVE_CONVERSATION_RECEIVER\"),j=_.setActiveConversation,N=_.setActiveConversationSuccess,w=_.setActiveConversationFail,C=Object(r.b)(\"loadMessages\",\"LOAD_MESSAGES\"),x=C.loadMessages,S=C.loadMessagesSuccess,E=C.loadMessagesFail,k=Object(r.b)(\"loadMoreMessages\",\"LOAD_MORE_MESSAGES\"),R=k.loadMoreMessages,P=k.loadMoreMessagesSuccess,M=k.loadMoreMessagesFail,A=Object(r.a)(\"fetchingMessage\"),I=Object(r.a)(\"resetMessageState\"),T=Object(r.b)(\"getConversationDetail\",\"LOAD_CONVERSATION_ITEM\"),D=T.getConversationDetail,B=T.getConversationDetailSuccess,U=(T.getConversationDetailFail,Object(r.a)(\"COUNT_TOTAL_NOT_READ_MESSAGE\"))},zvFY:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return M}));var r=n(\"wx14\"),a=n(\"rePB\"),o=n(\"ODXe\"),c=n(\"U8pU\"),s=n(\"q1tI\"),i=n.n(s),u=n(\"TSYQ\"),l=n.n(u),f=n(\"bT9E\"),d=n(\"H84U\"),m=n(\"1OyB\"),p=function e(t){return Object(m.a)(this,e),new Error(\"unreachable case: \".concat(JSON.stringify(t)))},b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=function(e){return s.createElement(d.a,null,(function(t){var n,o=t.getPrefixCls,c=t.direction,i=e.prefixCls,u=e.size,f=e.className,d=b(e,[\"prefixCls\",\"size\",\"className\"]),m=o(\"btn-group\",i),v=\"\";switch(u){case\"large\":v=\"lg\";break;case\"small\":v=\"sm\";break;case\"middle\":case void 0:break;default:console.warn(new p(u))}var h=l()(m,(n={},Object(a.a)(n,\"\".concat(m,\"-\").concat(v),v),Object(a.a)(n,\"\".concat(m,\"-rtl\"),\"rtl\"===c),n),f);return s.createElement(\"div\",Object(r.a)({},d,{className:h}))}))},h=n(\"g0mS\"),g=n(\"CWQg\"),O=n(\"uaoM\"),y=n(\"3Nzz\"),_=n(\"8XRh\"),j=n(\"ye1Q\"),N=function(){return{width:0,opacity:0,transform:\"scale(0)\"}},w=function(e){return{width:e.scrollWidth,opacity:1,transform:\"scale(1)\"}},C=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?i.a.createElement(\"span\",{className:\"\".concat(t,\"-loading-icon\")},i.a.createElement(j.a,null)):i.a.createElement(_.default,{visible:n,motionName:\"\".concat(t,\"-loading-icon-motion\"),removeOnLeave:!0,onAppearStart:N,onAppearActive:w,onEnterStart:N,onEnterActive:w,onLeaveStart:w,onLeaveActive:N},(function(e,n){var r=e.className,a=e.style;return i.a.createElement(\"span\",{className:\"\".concat(t,\"-loading-icon\"),style:a,ref:n},i.a.createElement(j.a,{className:r}))}))},x=n(\"0n0R\"),S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},E=/^[\\u4e00-\\u9fa5]{2}$/,k=E.test.bind(E);function R(e){return\"text\"===e||\"link\"===e}function P(e,t){if(null!=e){var n,r=t?\" \":\"\";return\"string\"!==typeof e&&\"number\"!==typeof e&&\"string\"===typeof e.type&&k(e.props.children)?Object(x.a)(e,{children:e.props.children.split(\"\").join(r)}):\"string\"===typeof e?k(e)?s.createElement(\"span\",null,e.split(\"\").join(r)):s.createElement(\"span\",null,e):(n=e,s.isValidElement(n)&&n.type===s.Fragment?s.createElement(\"span\",null,e):e)}}Object(g.a)(\"default\",\"primary\",\"ghost\",\"dashed\",\"link\",\"text\"),Object(g.a)(\"circle\",\"round\"),Object(g.a)(\"submit\",\"button\",\"reset\");function M(e){return\"danger\"===e?{danger:!0}:{type:e}}var A=function(e,t){var n,i,u=e.loading,m=void 0!==u&&u,p=e.prefixCls,b=e.type,v=e.danger,g=e.shape,_=e.size,j=e.className,N=e.children,w=e.icon,x=e.ghost,E=void 0!==x&&x,M=e.block,A=void 0!==M&&M,I=e.htmlType,T=void 0===I?\"button\":I,D=S(e,[\"loading\",\"prefixCls\",\"type\",\"danger\",\"shape\",\"size\",\"className\",\"children\",\"icon\",\"ghost\",\"block\",\"htmlType\"]),B=s.useContext(y.b),U=s.useState(!!m),L=Object(o.a)(U,2),z=L[0],q=L[1],F=s.useState(!1),V=Object(o.a)(F,2),H=V[0],G=V[1],J=s.useContext(d.b),X=J.getPrefixCls,K=J.autoInsertSpaceInButton,W=J.direction,Y=t||s.createRef(),Q=s.useRef(),Z=function(){return 1===s.Children.count(N)&&!w&&!R(b)};i=\"object\"===Object(c.a)(m)&&m.delay?m.delay||!0:!!m,s.useEffect((function(){clearTimeout(Q.current),\"number\"===typeof i?Q.current=window.setTimeout((function(){q(i)}),i):q(i)}),[i]),s.useEffect((function(){if(Y&&Y.current&&!1!==K){var e=Y.current.textContent;Z()&&k(e)?H||G(!0):H&&G(!1)}}),[Y]);var $=function(t){var n,r=e.onClick,a=e.disabled;z||a?t.preventDefault():null===(n=r)||void 0===n||n(t)};Object(O.a)(!(\"string\"===typeof w&&w.length>2),\"Button\",\"`icon` is using ReactNode instead of string naming in v4. Please check `\".concat(w,\"` at https://ant.design/components/icon\")),Object(O.a)(!(E&&R(b)),\"Button\",\"`link` or `text` button can't be a `ghost` button.\");var ee=X(\"btn\",p),te=!1!==K,ne=\"\";switch(_||B){case\"large\":ne=\"lg\";break;case\"small\":ne=\"sm\"}var re=z?\"loading\":w,ae=l()(ee,(n={},Object(a.a)(n,\"\".concat(ee,\"-\").concat(b),b),Object(a.a)(n,\"\".concat(ee,\"-\").concat(g),g),Object(a.a)(n,\"\".concat(ee,\"-\").concat(ne),ne),Object(a.a)(n,\"\".concat(ee,\"-icon-only\"),!N&&0!==N&&!!re),Object(a.a)(n,\"\".concat(ee,\"-background-ghost\"),E&&!R(b)),Object(a.a)(n,\"\".concat(ee,\"-loading\"),z),Object(a.a)(n,\"\".concat(ee,\"-two-chinese-chars\"),H&&te),Object(a.a)(n,\"\".concat(ee,\"-block\"),A),Object(a.a)(n,\"\".concat(ee,\"-dangerous\"),!!v),Object(a.a)(n,\"\".concat(ee,\"-rtl\"),\"rtl\"===W),n),j),oe=w&&!z?w:s.createElement(C,{existIcon:!!w,prefixCls:ee,loading:!!z}),ce=N||0===N?function(e,t){var n=!1,r=[];return s.Children.forEach(e,(function(e){var t=Object(c.a)(e),a=\"string\"===t||\"number\"===t;if(n&&a){var o=r.length-1,s=r[o];r[o]=\"\".concat(s).concat(e)}else r.push(e);n=a})),s.Children.map(r,(function(e){return P(e,t)}))}(N,Z()&&te):null,se=Object(f.a)(D,[\"navigate\"]);if(void 0!==se.href)return s.createElement(\"a\",Object(r.a)({},se,{className:ae,onClick:$,ref:Y}),oe,ce);var ie=s.createElement(\"button\",Object(r.a)({},D,{type:T,className:ae,onClick:$,ref:Y}),oe,ce);return R(b)?ie:s.createElement(h.a,null,ie)},I=s.forwardRef(A);I.displayName=\"Button\",I.Group=v,I.__ANT_BUTTON=!0;t.b=I}},[[\"dwQ6\",0,1,3,4,2,5,6,8,14,21,26,27,12]]]);","extractedComments":[]}