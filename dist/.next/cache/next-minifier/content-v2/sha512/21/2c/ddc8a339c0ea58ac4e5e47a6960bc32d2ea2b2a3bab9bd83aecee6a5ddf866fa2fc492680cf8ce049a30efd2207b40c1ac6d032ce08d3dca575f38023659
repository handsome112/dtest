{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[90],{Abbm:function(e,t,n){e.exports={spinner:\"FqxmFNz4OrHU-AwWcntBB\"}},GPi1:function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),a=n.n(r),c=n(\"HaE+\"),o=n(\"1OyB\"),i=n(\"vuIU\"),s=n(\"Ji7U\"),l=n(\"md7G\"),u=n(\"foSv\"),f=n(\"rePB\"),d=n(\"tsqr\"),p=n(\"Y1dN\"),b=n(\"8Kt/\"),v=n.n(b),O=n(\"q1tI\"),y=n.n(O),h=n(\"CLrh\"),m=n(\"NsEo\"),g=n(\"TW7V\"),j=n(\"mr32\"),w=n(\"wCAj\"),x=n(\"psLn\"),P=y.a.createElement,C=function(e){var t=e.transactions,n=e.rowKey,r=e.pageSize,a=e.total,c=e.onChange,o=[{title:\"Transaction ID\",dataIndex:\"_id\",key:\"_id\",render:function(e){return(null===e||void 0===e?void 0:e.slice(16,24).toUpperCase())||\"N/A\"}},{title:\"Products\",dataIndex:\"products\",key:\"products\",render:function(e){return(e||[]).map((function(e){var t;return P(\"p\",null,P(\"strong\",null,e.name),\" \",P(\"br\",null),P(\"small\",null,(null===e||void 0===e||null===(t=e.description)||void 0===t?void 0:t.slice(0,150))||\"\"))}))}},{title:\"Price\",dataIndex:\"totalPrice\",key:\"totalPrice\",align:\"center\",sorter:!0,render:function(e){return(null===e||void 0===e?void 0:e.toFixed(2))||\"N/A\"}},{title:\"Status\",dataIndex:\"status\",key:\"status\",filters:[{text:\"Success\",value:\"success\"},{text:\"Pending\",value:\"pending\"},{text:\"Canceled\",value:\"canceled\"}],onFilter:function(e,t){return t.status.includes(e)},render:function(e){switch(e){case\"success\":return P(j.a,{color:\"green\"},\"Success\");case\"pending\":return P(j.a,{color:\"warning\"},\"Pending\");case\"canceled\":default:return P(j.a,{color:\"default\"},\"Canceled\")}}},{title:\"Created At\",dataIndex:\"createdAt\",sorter:!0,key:\"createdAt\",render:function(e){return P(\"span\",null,Object(x.f)(e))}}];return P(w.a,{columns:o,rowKey:n,dataSource:t,pagination:{total:a,pageSize:r},onChange:c.bind(undefined)})},k=(n(\"1PdN\"),y.a.createElement);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var I=function(e){Object(s.a)(n,e);var t=S(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={loading:!0,transaction:[],limit:10,total:0,offset:0,sortBy:\"createdAt\",sort:\"desc\",filter:{}},r}return Object(i.a)(n,[{key:\"componentDidMount\",value:function(){this.getData()}},{key:\"onChange\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this.state,e.next=3,this.setState(Object(m.i)(t,n,r,c));case 3:this.getData();case 4:case\"end\":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:\"getData\",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c,o,i,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.filter,r=t.limit,c=t.offset,o=t.sortBy,i=t.sort,e.prev=1,e.next=4,h.t.search(N(N({},n),{},{limit:r,offset:c,sortBy:o,sort:i}));case 4:return s=e.sent,e.next=7,this.setState({transaction:s.data.data,total:s.data.total});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),l=Promise.resolve(e.t0),d.b.error(Object(m.h)(l));case 13:return e.prev=13,this.setState({loading:!1}),e.finish(13);case 16:case\"end\":return e.stop()}}),e,this,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.state,t=e.loading,n=e.transaction,r=e.total,a=e.limit;return k(y.a.Fragment,null,k(v.a,null,k(\"title\",null,\"Transaction History\")),k(\"div\",{className:\"transaction-history-page\"},k(p.a,{title:\"Transaction History\"}),k(\"div\",null,t?k(g.a,null):k(C,{rowKey:\"_id\",transactions:n,pageSize:a,total:r,onChange:this.onChange.bind(this)}))))}}]),n}(O.PureComponent);Object(f.a)(I,\"authenticate\",!0),Object(f.a)(I,\"layout\",\"primary\");t.default=I},TW7V:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r),c=n(\"TSYQ\"),o=n.n(c),i=(n(\"Abbm\"),a.a.createElement);t.a=function(e){var t=e.spinning,n=void 0!==t&&t,r=e.fullScreen,a=void 0!==r&&r;return i(\"div\",{className:o()(\"loader\",{hidden:!n,fullScreen:a})},i(\"div\",{className:\"warpper\"},i(\"div\",{className:\"text\"},i(\"img\",{src:\"/loading-ico.gif\",width:\"65px\",alt:\"\"}))))}},ZrG8:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/user/transaction-history\",function(){return n(\"GPi1\")}])},hkKa:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(\"ODXe\"),a=n(\"q1tI\");function c(){var e=a.useReducer((function(e){return e+1}),0);return Object(r.a)(e,2)[1]}},mr32:function(e,t,n){\"use strict\";var r=n(\"rePB\"),a=n(\"wx14\"),c=n(\"ODXe\"),o=n(\"q1tI\"),i=n(\"TSYQ\"),s=n.n(i),l=n(\"bT9E\"),u=n(\"4i/N\"),f=n(\"H84U\"),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},p=function(e){var t,n=e.prefixCls,c=e.className,i=e.checked,l=e.onChange,u=e.onClick,p=d(e,[\"prefixCls\",\"className\",\"checked\",\"onChange\",\"onClick\"]),b=(0,o.useContext(f.b).getPrefixCls)(\"tag\",n),v=s()(b,(t={},Object(r.a)(t,\"\".concat(b,\"-checkable\"),!0),Object(r.a)(t,\"\".concat(b,\"-checkable-checked\"),i),t),c);return o.createElement(\"span\",Object(a.a)({},p,{className:v,onClick:function(e){null===l||void 0===l||l(!i),null===u||void 0===u||u(e)}}))},b=n(\"09Wf\"),v=n(\"g0mS\"),O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},y=new RegExp(\"^(\".concat(b.a.join(\"|\"),\")(-inverse)?$\")),h=new RegExp(\"^(\".concat(b.b.join(\"|\"),\")$\")),m=function(e,t){var n,i=e.prefixCls,d=e.className,p=e.style,b=e.children,m=e.icon,g=e.color,j=e.onClose,w=e.closeIcon,x=e.closable,P=void 0!==x&&x,C=O(e,[\"prefixCls\",\"className\",\"style\",\"children\",\"icon\",\"color\",\"onClose\",\"closeIcon\",\"closable\"]),k=o.useContext(f.b),E=k.getPrefixCls,N=k.direction,S=o.useState(!0),I=Object(c.a)(S,2),_=I[0],T=I[1];o.useEffect((function(){\"visible\"in C&&T(C.visible)}),[C.visible]);var D=function(){return!!g&&(y.test(g)||h.test(g))},A=Object(a.a)({backgroundColor:g&&!D()?g:void 0},p),B=D(),R=E(\"tag\",i),q=s()(R,(n={},Object(r.a)(n,\"\".concat(R,\"-\").concat(g),B),Object(r.a)(n,\"\".concat(R,\"-has-color\"),g&&!B),Object(r.a)(n,\"\".concat(R,\"-hidden\"),!_),Object(r.a)(n,\"\".concat(R,\"-rtl\"),\"rtl\"===N),n),d),F=function(e){e.stopPropagation(),null===j||void 0===j||j(e),e.defaultPrevented||\"visible\"in C||T(!1)},G=\"onClick\"in C||b&&\"a\"===b.type,H=Object(l.a)(C,[\"visible\"]),K=m||null,U=K?o.createElement(o.Fragment,null,K,o.createElement(\"span\",null,b)):b,z=o.createElement(\"span\",Object(a.a)({},H,{ref:t,className:q,style:A}),U,P?w?o.createElement(\"span\",{className:\"\".concat(R,\"-close-icon\"),onClick:F},w):o.createElement(u.a,{className:\"\".concat(R,\"-close-icon\"),onClick:F}):null);return G?o.createElement(v.a,null,z):z},g=o.forwardRef(m);g.displayName=\"Tag\",g.CheckableTag=p;t.a=g}},[[\"ZrG8\",0,1,3,4,2,5,7,6,8,9,10,11,13,15,16,17,19,20,22,25,12]]]);","extractedComments":[]}