{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[79],{G3dp:function(e,t,a){\"use strict\";var r=a(\"VTBJ\"),n=a(\"q1tI\"),s={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\"}}]},name:\"edit\",theme:\"outlined\"},o=a(\"6VBw\"),u=function(e,t){return n.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:s}))};u.displayName=\"EditOutlined\";t.a=n.forwardRef(u)},GMeC:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return n}));var r=a(\"tsqr\");function n(e){var t=e.name.split(\".\").pop().toLowerCase();return-1===\".jpeg, .jpg, .png\".split(\",\").map((function(e){return e.trim()})).indexOf(\".\".concat(t))?(r.b.error(\"You can only upload \".concat(\".jpeg, .jpg, .png\",\" file!\")),!1):!!(e.size/1024/1024<\"2\")||(r.b.error(\"Image must smaller than \".concat(\"2\",\"MB!\")),!1)}},ITiG:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return c}));var r=a(\"1OyB\"),n=a(\"vuIU\"),s=a(\"Ji7U\"),o=a(\"md7G\"),u=a(\"foSv\");function i(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(u.a)(e);if(t){var n=Object(u.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(o.a)(this,a)}}var c=new(function(e){Object(s.a)(a,e);var t=i(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:\"me\",value:function(e){return this.get(\"/users/me\",e)}},{key:\"updateMe\",value:function(e){return this.put(\"/users\",e)}},{key:\"getAvatarUploadUrl\",value:function(e){return e?\"\".concat(\"https://api.dtest.live\",\"/users/\").concat(e,\"/avatar/upload\"):\"\".concat(\"https://api.dtest.live\",\"/users/avatar/upload\")}},{key:\"search\",value:function(e){return this.get(this.buildUrl(\"/users/search\",e))}},{key:\"findById\",value:function(e){return this.get(\"/users/view/\".concat(e))}}]),a}(a(\"/bfT\").a))},grZg:function(e,t,a){\"use strict\";a.r(t);var r=a(\"wx14\"),n=a(\"o0o1\"),s=a.n(n),o=a(\"HaE+\"),u=a(\"1OyB\"),i=a(\"vuIU\"),c=a(\"Ji7U\"),l=a(\"md7G\"),p=a(\"foSv\"),d=a(\"rePB\"),f=a(\"q1tI\"),m=a.n(f),h=a(\"tsqr\"),v=a(\"ZTPi\"),g=a(\"Y1dN\"),b=a(\"/MKj\"),y=a(\"ODXe\"),O=a(\"Vl3Y\"),j=a(\"2/Rp\"),P=a(\"BMrR\"),w=a(\"kPKH\"),U=a(\"5rEg\"),T=a(\"2fM7\"),E=a(\"+eQT\"),k=a(\"8z0m\"),R=a(\"wd/R\"),C=a.n(R),I=a(\"/bfT\"),A=a(\"p46w\"),S=a.n(A),x=a(\"z7Xi\"),N=a(\"G3dp\"),F=(a(\"Pje9\"),a(\"GMeC\")),_=f.createElement,B={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}},M={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:0}}},G=function(e){var t=e.username,a=e.firstName,n=e.lastName,s=e.gender,o=e.onFinish,u=e.countries,i=e.email,c=e.country,l=e.phone,p=e.city,d=e.state,f=e.dateOfBirth,m=e.onChangeAvatar,h=e.uploadAvatarUrl,v=e.uploadedAvatar,g=e.avatarUploading,b=e.avatar,R=e.loading,A=O.a.useForm(),G=Object(y.a)(A,1)[0],z=_(j.a,{type:\"dashed\",loading:g,disabled:g,icon:_(x.a,null)},\"Upload\");return _(O.a,Object(r.a)({},B,{form:G,onFinish:o,name:\"performerRegisterForm\",className:\"performerRegisterForm\",initialValues:{dateOfBirth:C()(f),country:c,firstName:a,lastName:n,gender:s,email:i,avatar:b,username:t,phone:l,city:p,state:d},layout:\"vertical\"}),_(P.a,{gutter:25},_(w.a,{sm:12,xs:24},_(O.a.Item,{name:\"username\",label:\"Username\",rules:[{required:!0,message:\"Please input your username!\"}]},_(U.a,{disabled:!0})),_(O.a.Item,{name:\"gender\",label:\"Sex\"},_(T.a,null,_(T.a.Option,{value:\"male\",key:\"male\"},\"Male\"),_(T.a.Option,{value:\"female\",key:\"female\"},\"Female\"),_(T.a.Option,{value:\"transgender\",key:\"transgender\"},\"Transgender\"))),_(O.a.Item,{name:\"firstName\",label:\"First Name\",rules:[{pattern:new RegExp(\"^[a-zA-Z0-9 ]*$\"),message:\"Alphanumeric\"},{whitespace:!0,message:\"Please input your first name!\"},{required:!0,message:\"Please input your first name!\"}]},_(U.a,{placeholder:\"First name\"})),_(O.a.Item,{name:\"lastName\",label:\"Last Name\",rules:[{pattern:new RegExp(\"^[a-zA-Z0-9 ]*$\"),message:\"Alphanumeric\"},{whitespace:!0,message:\"Please input your last name!\"},{required:!0,message:\"Please input your first name!\"}]},_(U.a,{placeholder:\"Last name\"})),_(O.a.Item,{name:\"phone\",label:\"Phone Number\",rules:[{min:9},{max:14},{pattern:new RegExp(/^[0-9\\b\\\\+ ]+$/),message:\"The phone number is not in the correct format\"}]},_(U.a,{placeholder:\"Phone Number\"}))),_(w.a,{sm:12,xs:24},_(O.a.Item,{name:\"email\",label:\"E-mail\",rules:[{type:\"email\",message:\"The input is not valid E-mail!\"},{required:!0,message:\"Please input your E-mail!\"}]},_(U.a,{disabled:!0,placeholder:\"test@example.com\"})),_(O.a.Item,{name:\"dateOfBirth\",label:\"Date of Birth\",rules:[{required:!0,message:\"Please input date of birth!\"},{validator:function(e,t){return t?C()().diff(t,\"years\")>=18?Promise.resolve():Promise.reject(new Error(\"Minimum of 18 years\")):Promise.resolve()}}]},_(E.a,{style:{width:\"100%\"}})),_(O.a.Item,{name:\"country\",label:\"Country\",rules:[{required:!0,message:\"Please input your country!\"}]},_(T.a,{showSearch:!0},u.length>0&&u.map((function(e){return _(T.a.Option,{value:e.name,key:e.code},e.name)})))),_(O.a.Item,{name:\"state\",label:\"State\"},_(U.a,{placeholder:\"State Name\"})),_(O.a.Item,{name:\"city\",label:\"City\"},_(U.a,{placeholder:\"City Name\"})),_(O.a.Item,{label:\"Profile Avatar\"},_(k.a,{onChange:m,accept:\"image/*\",action:h,headers:{Authorization:S.a.get(I.f)},name:\"avatar\",showUploadList:!1,beforeUpload:F.a},b||v?_(\"div\",{style:{height:60,width:60,position:\"relative\"}},_(\"img\",{src:v||b,style:{height:60,width:60,borderRadius:30},alt:\"\"}),_(N.a,{className:\"edit-icon\"})):z)))),_(O.a.Item,M,_(j.a,{type:\"primary\",htmlType:\"submit\",disabled:R,loading:R},\"Save Changes\")))},z=a(\"8Kt/\"),q=a.n(z),H=a(\"zM0U\"),D=a(\"ITiG\"),L=a(\"x7is\"),V=a(\"kXO4\"),X=a(\"NsEo\"),Y=a(\"nOHt\"),J=a.n(Y),K=a(\"4xUc\"),Z=(a(\"vXTS\"),m.a.createElement);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function W(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(p.a)(e);if(t){var n=Object(p.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(l.a)(this,a)}}var ee=function(e){Object(c.a)(a,e);var t=W(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={countries:[],uploadedAvatar:\"\",avatarUploading:!1},r}return Object(i.a)(a,[{key:\"componentDidMount\",value:function(){var e=this.props.action;e&&\"account-information\"!==e||this.getCountries()}},{key:\"componentDidUpdate\",value:function(e){var t=this.props,a=t.success,r=t.updateUserError,n=t.auth,s=t.action,o=this.state.countries;e.success!==a&&a&&h.b.success(\"Update Profile Success.\"),e.updateUserError!==r&&r&&h.b.error(Object(X.h)(r)),e.auth.updatePassword.success!==n.updatePassword.success&&n.updatePassword.success&&h.b.success(\"Update Password Success.\"),e.auth.updatePassword.error!==n.updatePassword.error&&n.updatePassword.error&&h.b.error(Object(X.h)(n.updatePassword.error)),o.length||\"account-information\"!==s||this.getCountries()}},{key:\"onFinish\",value:function(e){var t=this.props,a=t.user;(0,t.updateUser)(Q(Q({},a),e))}},{key:\"onChangeAvatar\",value:function(e){var t=e.file;\"uploading\"!==t.status?\"done\"===t.status&&(this.setState({avatarUploading:!1}),t.response&&this.setState({uploadedAvatar:t.response.data.url})):this.setState({avatarUploading:!0})}},{key:\"onTabsChange\",value:function(e){J.a.push({pathname:\"/account/user/account-settings\",query:{action:e}},\"/account/user/account-settings?action=\".concat(e),{shallow:!1})}},{key:\"onPasswordChange\",value:function(e){(0,this.props.updatePassword)(e)}},{key:\"getCountries\",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.getCountries();case 3:t=e.sent,this.setState({countries:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.b.error(Object(X.h)(e.t0));case 10:case\"end\":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.props,t=e.user,a=e.action,n=e.auth,s=e.userUpdating,o=this.state,u=o.countries,i=o.uploadedAvatar,c=o.avatarUploading;return Z(m.a.Fragment,null,Z(q.a,null,Z(\"title\",null,\"\".concat(t.username,\" Profile\"))),Z(\"div\",{className:\"account-setting-page\"},Z(g.a,{title:\"Account Settings\"}),Z(v.a,{activeKey:a||\"account-information\",style:{padding:\"0 24px\"},size:\"large\",onChange:this.onTabsChange.bind(this)},Z(v.a.TabPane,{tab:\"Account Information\",key:\"account-information\"},Z(G,Object(r.a)({},t,{onFinish:this.onFinish.bind(this),countries:u,onChangeAvatar:this.onChangeAvatar.bind(this),uploadAvatarUrl:D.a.getAvatarUploadUrl(),uploadedAvatar:i,avatarUploading:c,loading:s}))),Z(v.a.TabPane,{key:\"change-password\",tab:\"Change Password\"},Z(K.a,Object(r.a)({onFinish:this.onPasswordChange.bind(this)},n.updatePassword))))))}}],[{key:\"getInitialProps\",value:function(e){return{action:e.ctx.query.action}}}]),a}(f.PureComponent);Object(d.a)(ee,\"authenticate\",!0),Object(d.a)(ee,\"layout\",\"primary\");var te={updateUser:L.p,updatePassword:V.s};t.default=Object(b.b)((function(e){return{user:e.user.current,userUpdating:e.user.userUpdating,success:e.user.updateUserSuccess,updateUserError:e.user.updateUserError,auth:e.auth}}),te)(ee)},\"jX+S\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/user/account-settings\",function(){return a(\"grZg\")}])},x7is:function(e,t,a){\"use strict\";a.d(t,\"m\",(function(){return n})),a.d(t,\"n\",(function(){return s})),a.d(t,\"o\",(function(){return o})),a.d(t,\"p\",(function(){return i})),a.d(t,\"r\",(function(){return c})),a.d(t,\"q\",(function(){return l})),a.d(t,\"l\",(function(){return p})),a.d(t,\"k\",(function(){return d})),a.d(t,\"a\",(function(){return f})),a.d(t,\"b\",(function(){return h})),a.d(t,\"d\",(function(){return v})),a.d(t,\"c\",(function(){return g})),a.d(t,\"i\",(function(){return b})),a.d(t,\"j\",(function(){return y})),a.d(t,\"e\",(function(){return j})),a.d(t,\"g\",(function(){return P})),a.d(t,\"f\",(function(){return w})),a.d(t,\"h\",(function(){return U}));var r=a(\"vo7w\"),n=Object(r.a)(\"updateCurrentUser\"),s=Object(r.a)(\"updateCurrentUserAvatar\"),o=Object(r.a)(\"updateCurrentUserBalance\"),u=Object(r.b)(\"updateUser\",\"UPDATE_USER\"),i=u.updateUser,c=u.updateUserSuccess,l=u.updateUserFail,p=Object(r.a)(\"updatingUser\"),d=Object(r.a)(\"setUserReducer\"),f=Object(r.a)(\"buyTokenSuccess\"),m=Object(r.b)(\"getFavoritePerformers\",\"GET_FAVOURITE\"),h=m.getFavoritePerformers,v=m.getFavoritePerformersSuccess,g=m.getFavoritePerformersFailed,b=Object(r.a)(\"GETTING_FAVORITE\"),y=Object(r.a)(\"REMOVE_FAVORITE\"),O=Object(r.b)(\"getPaymentTokenHistroy\",\"GET_PAYMET_TOKE_HISTORY\"),j=O.getPaymentTokenHistroy,P=O.getPaymentTokenHistroySuccess,w=O.getPaymentTokenHistroyFail,U=Object(r.a)(\"GETTING_PAYMET_TOKE_HISTORY\")},zM0U:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return c}));var r=a(\"1OyB\"),n=a(\"vuIU\"),s=a(\"Ji7U\"),o=a(\"md7G\"),u=a(\"foSv\");function i(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(u.a)(e);if(t){var n=Object(u.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(o.a)(this,a)}}var c=new(function(e){Object(s.a)(a,e);var t=i(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:\"all\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return this.get(this.buildUrl(\"/settings/public\",{group:e}))}},{key:\"getCountries\",value:function(){return this.get(\"/countries/list\")}},{key:\"getTimezones\",value:function(){return this.get(\"/timezones/list\")}}]),a}(a(\"/bfT\").a))}},[[\"jX+S\",0,1,3,4,2,5,7,6,8,9,10,11,13,14,15,16,17,18,20,21,23,24,28,30,47,12]]]);","extractedComments":[]}