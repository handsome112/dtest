{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[83],{Abbm:function(e,t,r){e.exports={spinner:\"FqxmFNz4OrHU-AwWcntBB\"}},Bfpx:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return b}));var n=r(\"1OyB\"),i=r(\"vuIU\"),a=r(\"Ji7U\"),l=r(\"md7G\"),u=r(\"foSv\"),o=r(\"q1tI\"),s=r.n(o),c=r(\"TSYQ\"),m=r.n(c),f=r(\"TW7V\"),d=(r(\"r1gO\"),\"/var/www/dtest.live/src/components/common/layout/page.tsx\"),p=s.a.createElement;function _(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var b=function(e){Object(a.a)(r,e);var t=_(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:\"render\",value:function(){var e=this.props,t=e.className,r=e.children,n=e.loading,i=void 0!==n&&n,a=e.inner,l=void 0===a||a;return p(\"div\",{className:m()(t,{contentInner:l}),style:i?{height:\"calc(100vh - 184px)\",overflow:\"hidden\"}:null,__self:this,__source:{fileName:d,lineNumber:22,columnNumber:7}},i?p(f.a,{spinning:!0,__self:this,__source:{fileName:d,lineNumber:28,columnNumber:20}}):\"\",r)}}]),r}(o.PureComponent)},RxlS:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/user/orders/detail\",function(){return r(\"WyAO\")}])},TW7V:function(e,t,r){\"use strict\";var n=r(\"q1tI\"),i=r.n(n),a=r(\"TSYQ\"),l=r.n(a),u=(r(\"Abbm\"),\"/var/www/dtest.live/src/components/common/base/loader.tsx\"),o=i.a.createElement;t.a=function(e){var t=e.spinning,r=void 0!==t&&t,n=e.fullScreen,i=void 0!==n&&n;return o(\"div\",{className:l()(\"loader\",{hidden:!r,fullScreen:i}),__self:undefined,__source:{fileName:u,lineNumber:6,columnNumber:3}},o(\"div\",{className:\"warpper\",__self:undefined,__source:{fileName:u,lineNumber:12,columnNumber:5}},o(\"div\",{className:\"text\",__self:undefined,__source:{fileName:u,lineNumber:14,columnNumber:7}},o(\"img\",{src:\"/loading-ico.gif\",width:\"65px\",alt:\"\",__self:undefined,__source:{fileName:u,lineNumber:14,columnNumber:29}}))))}},WyAO:function(e,t,r){\"use strict\";r.r(t);var n=r(\"o0o1\"),i=r.n(n),a=r(\"HaE+\"),l=r(\"1OyB\"),u=r(\"vuIU\"),o=r(\"Ji7U\"),s=r(\"md7G\"),c=r(\"foSv\"),m=r(\"rePB\"),f=r(\"tsqr\"),d=r(\"Y1dN\"),p=r(\"8Kt/\"),_=r.n(p),b=r(\"q1tI\"),N=r.n(b),h=r(\"CLrh\"),v=r(\"/MKj\"),y=r(\"NsEo\"),g=r(\"nOHt\"),O=r.n(g),w=r(\"Zxk6\"),x=\"/var/www/dtest.live/pages/account/user/orders/detail.tsx\",j=N.a.createElement;function k(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var S=function(e){Object(o.a)(r,e);var t=k(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).state={order:null,loading:!1,isUpdating:!1},n}return Object(u.a)(r,[{key:\"componentDidMount\",value:function(){this.getData()}},{key:\"getData\",value:function(){var e=Object(a.a)(i.a.mark((function e(){var t,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,e.prev=1,this.setState({loading:!0}),e.next=5,h.g.userFindDetails(t);case 5:r=e.sent,this.setState({order:r.data}),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,Promise.resolve(e.t0);case 13:n=e.sent,f.b.error(Object(y.h)(n));case 15:return e.prev=15,this.setState({loading:!1}),e.finish(15);case 18:case\"end\":return e.stop()}}),e,this,[[1,9,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:\"submit\",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var r,n,a,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.shippingCode,n=t.deliveryStatus,a=this.props.id,r){e.next=5;break}return f.b.error(\"Missing shipping code\"),e.abrupt(\"return\");case 5:return e.prev=5,this.setState({isUpdating:!0}),e.next=9,h.g.update(a,{deliveryStatus:n,shippingCode:r});case 9:f.b.success(\"Changes saved.\"),O.a.back(),e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(5),e.next=17,Promise.resolve(e.t0);case 17:l=e.sent,f.b.error(Object(y.h)(l));case 19:return e.prev=19,this.setState({isUpdating:!1}),e.finish(19);case 22:case\"end\":return e.stop()}}),e,this,[[5,13,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"download\",value:function(){var e=Object(a.a)(i.a.mark((function e(){var t,r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.order,e.next=3,h.n.getDownloadLink(n.productId);case 3:if(a=e.sent,null!==(t=a.data)&&void 0!==t&&t.downloadUrl){e.next=6;break}return e.abrupt(\"return\",f.b.error(\"Something went wrong!\"));case 6:return e.abrupt(\"return\",window.open(null===(r=a.data)||void 0===r?void 0:r.downloadUrl,\"_blank\"));case 7:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.state,t=e.order,r=e.isUpdating,n=e.loading;return j(N.a.Fragment,null,j(_.a,{__self:this,__source:{fileName:x,lineNumber:97,columnNumber:9}},j(\"title\",{__self:this,__source:{fileName:x,lineNumber:98,columnNumber:11}},\"My Order -\",null===t||void 0===t?void 0:t.orderNumber)),j(\"div\",{className:\"main-container\",__self:this,__source:{fileName:x,lineNumber:103,columnNumber:9}},j(d.a,{title:\"Order detail\",__self:this,__source:{fileName:x,lineNumber:104,columnNumber:11}}),j(w.a,{order:t,loading:n,isUpdating:r,onFinish:this.submit.bind(this),onDownloadClick:this.download.bind(this),isUser:!0,disableUpdate:!0,__self:this,__source:{fileName:x,lineNumber:105,columnNumber:11}})))}}],[{key:\"getInitialProps\",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ctx,e.abrupt(\"return\",r.query);case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(b.PureComponent);Object(m.a)(S,\"authenticate\",!0),Object(m.a)(S,\"layout\",\"primary\");t.default=Object(v.b)((function(e){return{ui:e.ui}}))(S)},Zxk6:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return k}));var n=r(\"1OyB\"),i=r(\"vuIU\"),a=r(\"Ji7U\"),l=r(\"md7G\"),u=r(\"foSv\"),o=r(\"Vl3Y\"),s=r(\"mr32\"),c=r(\"2/Rp\"),m=r(\"5rEg\"),f=r(\"2fM7\"),d=r(\"zeV3\"),p=r(\"q1tI\"),_=r.n(p),b=r(\"dF/Y\"),N=r(\"Bfpx\"),h=(r(\"CK1C\"),r(\"iQ74\")),v=r(\"v1BB\"),y=r(\"TXU+\"),g=r(\"nOHt\"),O=r.n(g),w=\"/var/www/dtest.live/src/components/order/form-order.tsx\",x=_.a.createElement;function j(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var k=function(e){Object(a.a)(r,e);var t=j(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:\"render\",value:function(){var e,t=this.props,r=t.order,n=t.loading,i=t.isUpdating,a=t.disableUpdate,l=t.onFinish,u=t.isUser,p=t.onDownloadClick;return x(N.a,{__self:this,__source:{fileName:w,lineNumber:36,columnNumber:7}},r&&x(\"div\",{className:\"main-container\",__self:this,__source:{fileName:w,lineNumber:38,columnNumber:11}},x(o.a,{onFinish:l,wrapperCol:{sm:{span:18}},labelCol:{sm:{span:6}},initialValues:r,id:\"form-update-order\",__self:this,__source:{fileName:w,lineNumber:39,columnNumber:13}},x(o.a.Item,{wrapperCol:{sm:{span:12}},__self:this,__source:{fileName:w,lineNumber:46,columnNumber:15}},x(s.a,{color:\"magenta\",__self:this,__source:{fileName:w,lineNumber:47,columnNumber:17}},\"#\",r.orderNumber)),x(o.a.Item,{label:\"Buyer\",__self:this,__source:{fileName:w,lineNumber:52,columnNumber:15}},(null===(e=r.buyerInfo)||void 0===e?void 0:e.username)||\"N/A\"),x(o.a.Item,{label:\"Seller\",__self:this,__source:{fileName:w,lineNumber:55,columnNumber:15}},\"system\"===r.sellerSource?\"System\":null!==r&&void 0!==r&&r.sellerInfo?x(v.a,{performer:r.sellerInfo,__self:this,__source:{fileName:w,lineNumber:59,columnNumber:19}}):\"N/A\"),x(o.a.Item,{label:\"Product\",__self:this,__source:{fileName:w,lineNumber:64,columnNumber:15}},r.name),x(o.a.Item,{label:\"Description\",__self:this,__source:{fileName:w,lineNumber:65,columnNumber:15}},r.description),\"digital\"===r.productType&&u?x(o.a.Item,{__self:this,__source:{fileName:w,lineNumber:67,columnNumber:17}},x(c.a,{icon:x(b.a,{__self:this,__source:{fileName:w,lineNumber:68,columnNumber:33}}),onClick:p,__self:this,__source:{fileName:w,lineNumber:68,columnNumber:19}},\"Click to Download\")):null,x(o.a.Item,{label:\"Quantity\",__self:this,__source:{fileName:w,lineNumber:74,columnNumber:15}},r.quantity),x(o.a.Item,{label:\"Total Price\",__self:this,__source:{fileName:w,lineNumber:75,columnNumber:15}},\"token\"===r.payBy?x(y.a,{value:r.totalPrice,suffix:\" tokens\",__self:this,__source:{fileName:w,lineNumber:77,columnNumber:19}}):x(\"span\",{__self:this,__source:{fileName:w,lineNumber:79,columnNumber:19}},\"$\",x(y.a,{value:r.totalPrice,__self:this,__source:{fileName:w,lineNumber:81,columnNumber:21}}))),\"physical\"===r.productType?x(_.a.Fragment,null,x(o.a.Item,{label:\"Delivery Address\",__self:this,__source:{fileName:w,lineNumber:87,columnNumber:19}},r.deliveryAddress||\"N/A\"),x(o.a.Item,{label:\"Delivery Postal Code\",__self:this,__source:{fileName:w,lineNumber:90,columnNumber:19}},r.postalCode||\"N/A\"),x(o.a.Item,{name:\"shippingCode\",label:\"Shipping Code\",__self:this,__source:{fileName:w,lineNumber:93,columnNumber:19}},u?r.shippingCode:x(m.a,{placeholder:\"Enter shipping code here\",__self:this,__source:{fileName:w,lineNumber:95,columnNumber:23}}))):null,a||\"physical\"!==r.productType?x(o.a.Item,{name:\"deliveryStatus\",label:\"Delivery Status\",__self:this,__source:{fileName:w,lineNumber:124,columnNumber:17}},x(h.b,{status:r.deliveryStatus,__self:this,__source:{fileName:w,lineNumber:125,columnNumber:19}})):x(o.a.Item,{name:\"deliveryStatus\",label:\"Delivery Status\",__self:this,__source:{fileName:w,lineNumber:104,columnNumber:17}},x(f.a,{__self:this,__source:{fileName:w,lineNumber:105,columnNumber:19}},x(f.a.Option,{key:\"processing\",value:\"processing\",__self:this,__source:{fileName:w,lineNumber:106,columnNumber:21}},\"Processing\"),x(f.a.Option,{key:\"shipping\",value:\"shipping\",__self:this,__source:{fileName:w,lineNumber:109,columnNumber:21}},\"Shipping\"),x(f.a.Option,{key:\"delivered\",value:\"delivered\",__self:this,__source:{fileName:w,lineNumber:112,columnNumber:21}},\"Delivered\"),x(f.a.Option,{key:\"refunded\",value:\"refunded\",__self:this,__source:{fileName:w,lineNumber:115,columnNumber:21}},\"Refunded\"),x(f.a.Option,{key:\"created\",value:\"created\",__self:this,__source:{fileName:w,lineNumber:118,columnNumber:21}},\"Pending\"))),x(o.a.Item,{__self:this,__source:{fileName:w,lineNumber:128,columnNumber:15}},x(d.b,{__self:this,__source:{fileName:w,lineNumber:129,columnNumber:17}},x(c.a,{type:\"primary\",onClick:function(){return O.a.back()},__self:this,__source:{fileName:w,lineNumber:130,columnNumber:19}},\"Back\"),x(c.a,{type:\"primary\",htmlType:\"submit\",loading:i,disabled:n,hidden:a,__self:this,__source:{fileName:w,lineNumber:133,columnNumber:19}},\"Update\"))))))}}]),r}(p.PureComponent)},\"dF/Y\":function(e,t,r){\"use strict\";var n=r(\"VTBJ\"),i=r(\"q1tI\"),a={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\"}}]},name:\"download\",theme:\"outlined\"},l=r(\"6VBw\"),u=function(e,t){return i.createElement(l.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:a}))};u.displayName=\"DownloadOutlined\";t.a=i.forwardRef(u)},zeV3:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return p}));var n=r(\"wx14\"),i=r(\"rePB\"),a=r(\"ODXe\"),l=r(\"q1tI\"),u=r(\"TSYQ\"),o=r.n(u),s=r(\"Zm9Q\"),c=r(\"H84U\");function m(e){var t=e.className,r=e.direction,a=e.index,u=e.marginDirection,o=e.children,s=e.split,c=e.wrap,m=l.useContext(p),f=m.horizontalSize,d=m.verticalSize,_=m.latestIndex,b={};return m.supportFlexGap||(\"vertical\"===r?a<_&&(b={marginBottom:f/(s?2:1)}):b=Object(n.a)(Object(n.a)({},a<_&&Object(i.a)({},u,f/(s?2:1))),c&&{paddingBottom:d})),null===o||void 0===o?null:l.createElement(l.Fragment,null,l.createElement(\"div\",{className:t,style:b},o),a<_&&s&&l.createElement(\"span\",{className:\"\".concat(t,\"-split\"),style:b},s))}var f=r(\"P80f\"),d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},p=l.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),_={small:8,middle:16,large:24};t.b=function(e){var t,r=l.useContext(c.b),u=r.getPrefixCls,b=r.space,N=r.direction,h=e.size,v=void 0===h?(null===b||void 0===b?void 0:b.size)||\"small\":h,y=e.align,g=e.className,O=e.children,w=e.direction,x=void 0===w?\"horizontal\":w,j=e.prefixCls,k=e.split,S=e.style,I=e.wrap,C=void 0!==I&&I,B=d(e,[\"size\",\"align\",\"className\",\"children\",\"direction\",\"prefixCls\",\"split\",\"style\",\"wrap\"]),P=Object(f.a)(),E=l.useMemo((function(){return(Array.isArray(v)?v:[v,v]).map((function(e){return function(e){return\"string\"===typeof e?_[e]:e||0}(e)}))}),[v]),U=Object(a.a)(E,2),R=U[0],z=U[1],D=Object(s.a)(O,{keepEmpty:!0}),F=void 0===y&&\"horizontal\"===x?\"center\":y,T=u(\"space\",j),A=o()(T,\"\".concat(T,\"-\").concat(x),(t={},Object(i.a)(t,\"\".concat(T,\"-rtl\"),\"rtl\"===N),Object(i.a)(t,\"\".concat(T,\"-align-\").concat(F),F),t),g),V=\"\".concat(T,\"-item\"),q=\"rtl\"===N?\"marginLeft\":\"marginRight\",M=0,G=D.map((function(e,t){return null!==e&&void 0!==e&&(M=t),l.createElement(m,{className:V,key:\"\".concat(V,\"-\").concat(t),direction:x,index:t,marginDirection:q,split:k,wrap:C},e)})),H=l.useMemo((function(){return{horizontalSize:R,verticalSize:z,latestIndex:M,supportFlexGap:P}}),[R,z,M,P]);if(0===D.length)return null;var Y={};return C&&(Y.flexWrap=\"wrap\",P||(Y.marginBottom=-z)),P&&(Y.columnGap=R,Y.rowGap=z),l.createElement(\"div\",Object(n.a)({className:A,style:Object(n.a)(Object(n.a)({},Y),S)},B),l.createElement(p.Provider,{value:H},G))}}},[[\"RxlS\",0,1,3,4,2,5,7,6,8,9,10,11,13,14,15,16,17,18,19,20,21,22,23,25,37,12]]]);","extractedComments":[]}