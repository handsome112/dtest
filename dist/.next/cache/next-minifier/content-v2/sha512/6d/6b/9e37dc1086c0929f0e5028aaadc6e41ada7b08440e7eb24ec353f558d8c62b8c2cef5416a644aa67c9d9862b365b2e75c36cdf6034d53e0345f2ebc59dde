{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[68],{\"0JOW\":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/performer/photos\",function(){return r(\"Vf9i\")}])},BMrR:function(e,t,r){\"use strict\";var n=r(\"qrJ5\");t.a=n.a},M6VO:function(e,t,r){},Vf9i:function(e,t,r){\"use strict\";r.r(t);var n=r(\"o0o1\"),o=r.n(n),a=r(\"HaE+\"),c=r(\"1OyB\"),s=r(\"vuIU\"),i=r(\"Ji7U\"),l=r(\"md7G\"),u=r(\"foSv\"),f=r(\"rePB\"),p=r(\"q1tI\"),h=r.n(p),d=r(\"8Kt/\"),v=r.n(d),b=r(\"tsqr\"),m=r(\"zeV3\"),y=r(\"2/Rp\"),O=r(\"Y1dN\"),g=r(\"/MKj\"),j=r(\"WT8E\"),w=r(\"NsEo\"),P=r(\"nOHt\"),E=r.n(P),k=r(\"YFqc\"),N=r.n(k),C=r(\"mr32\"),x=r(\"bx4M\"),M=r(\"RotF\"),R=r.n(M),_=r(\"G3dp\"),S=r(\"rP/q\"),L=r(\"psLn\"),I=r(\"5aC+\"),T=(r(\"V/Nr\"),p.createElement),q=function(e){var t=e.data,r=e.searching,n=e.title,o=e.hasMore,a=e.addPhotos,c=e.success,s=e.remove;return T(R.a,{pageStart:0,loadMore:a,hasMore:o,loader:T(\"p\",null,\"Loading...\")},T(x.a,{className:\"photo-grid\",title:n,bordered:!1},r?T(\"p\",null,\"Loading...\"):c&&(t.length>0?t.map((function(e){return T(x.a.Grid,{className:\"photo-box\",key:e._id},T(\"div\",{className:\"photo-thumbnail\"},T(\"img\",{src:e.photo.thumbnails[0]||\"/no-image.jpg\",alt:\"\"}),T(m.b,{className:\"actions\"},T(N.a,{href:{pathname:\"/account/performer/photos/update\",query:{data:JSON.stringify(e)}},as:\"/account/performer/photos/\".concat(e._id,\"/update\")},T(_.a,{style:{color:\"#ff0066\"}})),T(I.a,{confirm:function(){return s(e._id)}})),function(e){switch(e){case\"active\":return T(C.a,{color:\"#87d068\",className:\"photo-status\"},\"Active\");case\"inactive\":return T(C.a,{color:\"#f50\",className:\"photo-status\"},\"Inactive\");case\"draft\":return T(C.a,{className:\"photo-status\"},\"Inactive\");default:return T(p.Fragment,null)}}(e.status)),T(\"div\",{className:\"photo-info\"},T(\"span\",null,Object(S.a)(e.title))),T(\"div\",{className:\"photo-description\"},\"Created at\",\" \",Object(L.f)(e.createdAt,\"DD MMMM YYYY\")),T(\"div\",{className:\"photo-description\"},T(N.a,{href:{pathname:\"/account/performer/galleries/update\",query:{data:JSON.stringify(e.gallery)}},as:\"/account/performer/galleries/\".concat(e.gallery._id,\"/update\")},e.gallery.name)))})):T(\"p\",null,\"No items\"))))};q.defaultProps={success:!1,searching:!1,title:\"\",addPhotos:null,hasMore:!1,remove:null};var D=q,J=(r(\"M6VO\"),r(\"CLrh\")),H=h.a.createElement;function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var o=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var B=function(e){Object(i.a)(r,e);var t=Y(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,e)).state={limit:12,offset:0},n}return Object(s.a)(r,[{key:\"componentDidMount\",value:function(){this.loadPhotos()}},{key:\"onRemove\",value:function(){var e=Object(a.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.removeMyPhoto,e.prev=1,e.next=4,J.l.remove(t);case 4:b.b.success(\"Removed!\"),r(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.showError(e.t0);case 11:case\"end\":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"addPhotos\",value:function(){var e=Object(a.a)(o.a.mark((function e(){var t,r,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.addMyPhotos,e.prev=1,r=this.state.limit,n=this.state.offset,n=r+n,e.next=7,J.l.myPhotos(U(U({},this.state),{},{offset:n}));case 7:a=e.sent,t(a.data.data),this.setState({offset:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.showError(e.t0);case 15:case\"end\":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:\"loadPhotos\",value:function(){(0,this.props.getMyPhotos)(U({},this.state))}},{key:\"showError\",value:function(){var e=Object(a.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(t);case 2:r=e.sent,b.b.error(Object(w.h)(r));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.props,t=e.data,r=e.searching,n=e.total,o={data:t,searching:r,success:e.success,total:n,hasMore:!r&&t.length<n,addPhotos:this.addPhotos.bind(this),remove:this.onRemove.bind(this),title:\"\"};return H(h.a.Fragment,null,H(v.a,null,H(\"title\",null,\"My Photos\")),H(\"div\",{className:\"performer-photos-page\"},H(O.a,{title:\"Photos\",extra:H(m.b,null,H(y.a,{type:\"primary\",onClick:function(){return E.a.push(\"/account/performer/galleries/add\")}},\"Add a new gallery\"),H(y.a,{type:\"primary\",onClick:function(){return E.a.push(\"/account/performer/photos/add\")}},\"Add new photos\"))}),H(D,o)))}}]),r}(p.PureComponent);Object(f.a)(B,\"authenticate\",!0),Object(f.a)(B,\"layout\",\"primary\");var V={getMyPhotos:j.k,removeMyPhoto:j.D,addMyPhotos:j.b};t.default=Object(g.b)((function(e){return U({},e.performer.assets.photos)}),V)(B)},YFqc:function(e,t,r){e.exports=r(\"cTJO\")},cTJO:function(e,t,r){\"use strict\";var n=r(\"zoAU\"),o=r(\"7KCV\");t.__esModule=!0,t.default=void 0;var a,c=o(r(\"q1tI\")),s=r(\"elyg\"),i=r(\"nOHt\"),l=new Map,u=window.IntersectionObserver,f={};var p=function(e,t){var r=a||(u?a=new u((function(e){e.forEach((function(e){if(l.has(e.target)){var t=l.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(a.unobserve(e.target),l.delete(e.target),t())}}))}),{rootMargin:\"200px\"}):void 0);return r?(r.observe(e),l.set(e,t),function(){try{r.unobserve(e)}catch(t){console.error(t)}l.delete(e)}):function(){}};function h(e,t,r,n){(0,s.isLocalURL)(t)&&(e.prefetch(t,r,n).catch((function(e){0})),f[t+\"%\"+r]=!0)}var d=function(e){var t=!1!==e.prefetch,r=c.default.useState(),o=n(r,2),a=o[0],l=o[1],d=(0,i.useRouter)(),v=d&&d.pathname||\"/\",b=c.default.useMemo((function(){var t=(0,s.resolveHref)(v,e.href,!0),r=n(t,2),o=r[0],a=r[1];return{href:o,as:e.as?(0,s.resolveHref)(v,e.as):a||o}}),[v,e.href,e.as]),m=b.href,y=b.as;c.default.useEffect((function(){if(t&&u&&a&&a.tagName&&(0,s.isLocalURL)(m)&&!f[m+\"%\"+y])return p(a,(function(){h(d,m,y)}))}),[t,a,m,y,d]);var O=e.children,g=e.replace,j=e.shallow,w=e.scroll;\"string\"===typeof O&&(O=c.default.createElement(\"a\",null,O));var P=c.Children.only(O),E={ref:function(e){e&&l(e),P&&\"object\"===typeof P&&P.ref&&(\"function\"===typeof P.ref?P.ref(e):\"object\"===typeof P.ref&&(P.ref.current=e))},onClick:function(e){P.props&&\"function\"===typeof P.props.onClick&&P.props.onClick(e),e.defaultPrevented||function(e,t,r,n,o,a,c){(\"A\"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&\"_self\"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,s.isLocalURL)(r))&&(e.preventDefault(),null==c&&(c=n.indexOf(\"#\")<0),t[o?\"replace\":\"push\"](r,n,{shallow:a}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())})))}(e,d,m,y,g,j,w)}};return t&&(E.onMouseEnter=function(e){(0,s.isLocalURL)(m)&&(P.props&&\"function\"===typeof P.props.onMouseEnter&&P.props.onMouseEnter(e),h(d,m,y,{priority:!0}))}),(e.passHref||\"a\"===P.type&&!(\"href\"in P.props))&&(E.href=(0,s.addBasePath)((0,s.addLocale)(y,d&&d.locale,d&&d.defaultLocale))),c.default.cloneElement(P,E)};t.default=d},kPKH:function(e,t,r){\"use strict\";var n=r(\"/kpp\");t.a=n.a},mr32:function(e,t,r){\"use strict\";var n=r(\"rePB\"),o=r(\"wx14\"),a=r(\"ODXe\"),c=r(\"q1tI\"),s=r(\"TSYQ\"),i=r.n(s),l=r(\"bT9E\"),u=r(\"4i/N\"),f=r(\"H84U\"),p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},h=function(e){var t,r=e.prefixCls,a=e.className,s=e.checked,l=e.onChange,u=e.onClick,h=p(e,[\"prefixCls\",\"className\",\"checked\",\"onChange\",\"onClick\"]),d=(0,c.useContext(f.b).getPrefixCls)(\"tag\",r),v=i()(d,(t={},Object(n.a)(t,\"\".concat(d,\"-checkable\"),!0),Object(n.a)(t,\"\".concat(d,\"-checkable-checked\"),s),t),a);return c.createElement(\"span\",Object(o.a)({},h,{className:v,onClick:function(e){null===l||void 0===l||l(!s),null===u||void 0===u||u(e)}}))},d=r(\"09Wf\"),v=r(\"g0mS\"),b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},m=new RegExp(\"^(\".concat(d.a.join(\"|\"),\")(-inverse)?$\")),y=new RegExp(\"^(\".concat(d.b.join(\"|\"),\")$\")),O=function(e,t){var r,s=e.prefixCls,p=e.className,h=e.style,d=e.children,O=e.icon,g=e.color,j=e.onClose,w=e.closeIcon,P=e.closable,E=void 0!==P&&P,k=b(e,[\"prefixCls\",\"className\",\"style\",\"children\",\"icon\",\"color\",\"onClose\",\"closeIcon\",\"closable\"]),N=c.useContext(f.b),C=N.getPrefixCls,x=N.direction,M=c.useState(!0),R=Object(a.a)(M,2),_=R[0],S=R[1];c.useEffect((function(){\"visible\"in k&&S(k.visible)}),[k.visible]);var L=function(){return!!g&&(m.test(g)||y.test(g))},I=Object(o.a)({backgroundColor:g&&!L()?g:void 0},h),T=L(),q=C(\"tag\",s),D=i()(q,(r={},Object(n.a)(r,\"\".concat(q,\"-\").concat(g),T),Object(n.a)(r,\"\".concat(q,\"-has-color\"),g&&!T),Object(n.a)(r,\"\".concat(q,\"-hidden\"),!_),Object(n.a)(r,\"\".concat(q,\"-rtl\"),\"rtl\"===x),r),p),J=function(e){e.stopPropagation(),null===j||void 0===j||j(e),e.defaultPrevented||\"visible\"in k||S(!1)},H=\"onClick\"in k||d&&\"a\"===d.type,K=Object(l.a)(k,[\"visible\"]),U=O||null,Y=U?c.createElement(c.Fragment,null,U,c.createElement(\"span\",null,d)):d,B=c.createElement(\"span\",Object(o.a)({},K,{ref:t,className:D,style:I}),Y,E?w?c.createElement(\"span\",{className:\"\".concat(q,\"-close-icon\"),onClick:J},w):c.createElement(u.a,{className:\"\".concat(q,\"-close-icon\"),onClick:J}):null);return H?c.createElement(v.a,null,B):B},g=c.forwardRef(O);g.displayName=\"Tag\",g.CheckableTag=h;t.a=g}},[[\"0JOW\",0,1,3,4,2,5,7,6,8,9,10,11,13,14,15,16,18,19,20,24,33,35,43,12]]]);","extractedComments":[]}